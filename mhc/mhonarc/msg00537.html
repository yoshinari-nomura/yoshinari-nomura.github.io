<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:00538] Re: NO default date with mhc&#45;edit in mhc&#45;summary&#45;buffer -->
<!--X-From-R13: grenavfvNtbubzr.bet (Khhvpuv =?WEA&#45;2022&#45;XB?P?HUHlKI5cp2ucZj==?= =?WEA&#45;2022&#45;XB?P?UlDQA3gOBx01[UjoYSW=?=) -->
<!--X-Date: Wed, 26 Apr 2000 09:39:18 +0900 -->
<!--X-Message-Id: fzvh15k84y.wl@elmo.dq.isl.ntt.co.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: mpawvlroc6h.fsf@olive.kuee.kyoto&#45;u.ac.jp -->
<!--X-Reference: mpak8hro3pi.fsf@olive.kuee.kyoto&#45;u.ac.jp -->
<!--X-Reference: 20000422013126P.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Reference: fzaek8zr7j.wl@elmo.dq.isl.ntt.co.jp -->
<!--X-Reference: 20000425.190433.74114891.shirai@rdmg.mgcs.mei.co.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:00538] Re: NO default date with mhc-edit in mhc-summary-buffer</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00536.html">Date Prev</a>][<a href="msg00538.html">Date Next</a>][<a href="msg00535.html">Thread Prev</a>][<a href="msg00538.html">Thread Next</a>][<a href="maillist.html#00537">Date Index</a>][<a href="threads.html#00537">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:00538] Re: NO default date with mhc-edit in mhc-summary-buffer</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:00538] Re: NO default date with mhc-edit in mhc-summary-buffer</li>
<li><em>From</em>: <a href="mailto:teranisi@DOMAIN.HIDDEN">teranisi@xxxxxxxxxx</a> (Yuuichi Teranishi/&#x5BFA;&#x897F;&#x88D5;&#x4E00;)</li>
<li><em>Date</em>: Wed, 26 Apr 2000 09:39:18 +0900</li>
<li><em>In-reply-to</em>: In your message of &quot;Tue, 25 Apr 2000 19:05:19 +0900&quot;	&lt;<a href="mailto:20000425.190433.74114891.shirai@DOMAIN.HIDDEN">20000425.190433.74114891.shirai@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Mail-followup-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Mail-reply-to</em>: <a href="mailto:teranisi@DOMAIN.HIDDEN">teranisi@xxxxxxxxxxxxx</a></li>
<li><em>Organization</em>: NTT Cyber Space Laboratories</li>
<li><em>Posted</em>: Wed, 26 Apr 2000 09:39:41 +0900</li>
<li><em>References</em>: &lt;<a href="mailto:mpawvlroc6h.fsf@DOMAIN.HIDDEN">mpawvlroc6h.fsf@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:mpak8hro3pi.fsf@DOMAIN.HIDDEN">mpak8hro3pi.fsf@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20000422013126P.nom@DOMAIN.HIDDEN">20000422013126P.nom@xxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:fzaek8zr7j.wl@DOMAIN.HIDDEN">fzaek8zr7j.wl@xxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20000425.190433.74114891.shirai@DOMAIN.HIDDEN">20000425.190433.74114891.shirai@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: Wanderlust/1.1.1 (Purple Rain) EMY/1.13.5 (Time flies) Chao/1.14.1 (Rokujiz&#x14D;) APEL/10.2 Emacs/20.5 (i386-ibmpc-freebsd3) MULE/4.0 (&#x82B1;&#x5BB4;)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>At Tue, 25 Apr 2000 19:05:19 +0900,
Hideyuki SHIRAI wrote:
&gt; 
&gt; &#x5BFA;&#x897F;&#x3055;&#x3093;&#x306E;
&gt; 
&gt; From: Yuuichi Teranishi/&#x5BFA;&#x897F;&#x88D5;&#x4E00; &lt;teranisi@xxxxxxxxxx&gt; &#x3055;&#x3093;&#x66F0;&#x304F;
&gt; Subject: [mhc:00472] Re: TODO
&gt; Message-ID: &lt;fzaek8zr7j.wl@xxxxxxxxxxxxxxxxxxxxx&gt;
&gt; Date: Thu, 9 Mar 2000 13:45:56 +0900
&gt; 
&gt; &#x306E;&#x30D1;&#x30C3;&#x30C1;&#x3092;&#x3042;&#x3066;&#x305F;&#x3068;&#x3053;&#x308D;&#x3001;Mew &#x3067;&#x306F; mhc-summary-buffer &#x4E0A;&#x3067;
&gt; &quot;C-ce (mhc-edit)&quot; &#x3057;&#x305F;&#x3068;&#x304D;&#x306B;&#x3001;cursor &#x4E0A;&#x306E; &quot;&#x5E74;&#x6708;&#x65E5;&quot; &#x304C;
&gt; mhc-input-day &#x306E; default &#x306B;&#x6E21;&#x3089;&#x306A;&#x304F;&#x306A;&#x308A;&#x307E;&#x3057;&#x305F;&#x3002;
&gt; 

&#x3059;&#x307F;&#x307E;&#x305B;&#x3093;&#x3002;&#x6C17;&#x3065;&#x3044;&#x3066;&#x307E;&#x305B;&#x3093;&#x3067;&#x3057;&#x305F;&#x3002;
&#x591A;&#x5206;&#x3001;&#x30AB;&#x30EC;&#x30F3;&#x30C8;&#x30D0;&#x30C3;&#x30D5;&#x30A1;&#x304C;&#x5909;&#x308F;&#x3063;&#x3066;&#x3057;&#x307E;&#x3063;&#x3066;&#x3044;&#x308B;&#x3060;&#x3051;(?)&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#x3002;

&#x3061;&#x3087;&#x3063;&#x3068;&#x6700;&#x8FD1;&#x306E;&#x30D1;&#x30C3;&#x30C1;&#x30E9;&#x30C3;&#x30B7;&#x30E5;&#x306B;&#x3064;&#x3044;&#x3066;&#x884C;&#x3051;&#x3066;&#x3044;&#x306A;&#x3044;&#x306E;&#x3067;&#x3001;
&#x4FEE;&#x6B63;&#x6848;&#x3092;&#x95A2;&#x6570;&#x307E;&#x308B;&#x3054;&#x3068;&#x4EE5;&#x4E0B;&#x306B;&#x66F8;&#x3044;&#x3066;&#x307F;&#x307E;&#x3059;&#x3002;


(defun mhc-edit (&amp;optional import-buffer)
  &quot;Edit a new schedule.
If optional argument IMPORT-BUFFER is specified, import its content.
Returns t if the importation was succeeded.&quot;
  (interactive (if current-prefix-arg
		   (list (get-buffer (read-buffer
				      (format 
				       &quot;Import buffer: &quot;)
				      (current-buffer))))))
  (let ((draft-buffer (generate-new-buffer mhc-draft-buffer-name))
	(current-date (mhc-current-ddate))
	(succeed t)
	sch old)
    (and (interactive-p)
	 (mhc-window-push))
    (set-buffer draft-buffer)
    (if import-buffer
	(progn
	  (insert-buffer import-buffer)
	  (mhc-misc-hdr-delete-list mhc-draft-unuse-hdr-list)))
    (switch-to-buffer draft-buffer t)
    (setq sch (mhc-sch-new))
    (condition-case ()
	(if import-buffer
	    (progn
	      (delete-other-windows)
	      (if (y-or-n-p &quot;Do you want to import this article? &quot;)
		  (progn
		    (setq old (mhc-sch-new-from-buffer))
		    ;; input date
		    (mhc-sch-set-day sch (mhc-input-day
					  &quot;Date: &quot;
					  (mhc-sch-day old)
					  (gdate-guess-date)))
		    ;; input time
		    (apply 'mhc-sch-set-time
			   sch
			   (mhc-input-time
			    &quot;Time: &quot;
			    (if (mhc-sch-time old)
				(mhc-sch-time-as-string old))
			    (gdate-guess-time
			     (mhc-minibuf-candidate-nth-begin)
			     )))
		    ;; input subject
		    (mhc-sch-set-subject sch
					 (mhc-input-subject 
					  &quot;Subject: &quot;
					  (mhc-misc-sub
					   (or (mhc-sch-subject old)
					       (mhc-misc-hdr-value &quot;Subject:&quot;))
					   &quot;^\\(Re:\\)? *\\(\\[[^\]]+\\]\\)? *&quot;
					   &quot;&quot;)))
		    ;; input location
		    (mhc-sch-set-location sch
					  (mhc-input-location 
					   &quot;Location: &quot;
					   (mhc-sch-location old)))
		    ;; input category
		    (mhc-sch-set-category
		     sch
		     (mhc-input-category 
		      &quot;Category: &quot;
		      (mhc-sch-category old)))
		    (mhc-misc-hdr-delete-list mhc-sch-header-list))
		;; Answer was no.
		(message &quot;&quot;) ; flush minibuffer.
		(and (interactive-p)
		     (mhc-window-pop))
		(setq succeed nil)
		(kill-buffer draft-buffer)))
	  ;; No import (it succeeds).
	  (mhc-sch-set-day  sch (mhc-input-day &quot;Date: &quot; current-date))
	  (apply 'mhc-sch-set-time sch (mhc-input-time &quot;Time: &quot;))
	  (mhc-sch-set-subject sch (mhc-input-subject &quot;Subject: &quot;))
	  (mhc-sch-set-location sch (mhc-input-location &quot;Location: &quot;))
	  (mhc-sch-set-category sch (mhc-input-category &quot;Category: &quot;)))
      ;; Quit.
      (quit 
       (and (interactive-p)
	    (mhc-window-pop))
       (setq succeed nil)
       (kill-buffer draft-buffer)))
    (if succeed
	(progn
	  (goto-char (point-min))
	  (insert (mhc-sch-dump-header sch))
	  (if import-buffer
	      ()
	    (goto-char (point-max))
	    (insert &quot;----\n&quot;))
	  (mhc-draft-mode)
	  succeed))))

--
Yuuichi Teranishi (&#x5BFA;&#x897F;&#x88D5;&#x4E00;) &lt;teranisi@xxxxxxxxxx&gt;
PGP 5.0i Public Key: <a  rel="nofollow" href="http://www.gohome.org/pgp5/teranisi.key">http://www.gohome.org/pgp5/teranisi.key</a>
&quot;Love is needing to be loved...&quot;
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00538" href="msg00538.html">[mhc:00539] Re: NO default date with mhc-edit in mhc-summary-buffer</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00527" href="msg00527.html">[mhc:00528] &#x30B9;&#x30D4;&#x30FC;&#x30C9;&#x72C2;&#x3078;&#x306E;&#x9053;</a></strong>
<ul><li><em>From:</em> TSUCHIYA Masatoshi</li></ul></li>
<li><strong><a name="00529" href="msg00529.html">[mhc:00530] Re: &#x30B9;&#x30D4;&#x30FC;&#x30C9;&#x72C2;&#x3078;&#x306E;&#x9053;</a></strong>
<ul><li><em>From:</em> TSUCHIYA Masatoshi</li></ul></li>
<li><strong><a name="00530" href="msg00530.html">[mhc:00531] Re: &#x30B9;&#x30D4;&#x30FC;&#x30C9;&#x72C2;&#x3078;&#x306E;&#x9053;</a></strong>
<ul><li><em>From:</em> Yoshinari NOMURA</li></ul></li>
<li><strong><a name="00471" href="msg00471.html">[mhc:00472] Re: TODO</a></strong>
<ul><li><em>From:</em> Yuuichi Teranishi/&#x5BFA;&#x897F;&#x88D5;&#x4E00;</li></ul></li>
<li><strong><a name="00535" href="msg00535.html">[mhc:00536] NO default date with mhc-edit in mhc-summary-buffer</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00536.html">[mhc:00537] Re: mhc-cvs.el</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00538.html">[mhc:00539] Re: NO default date with mhc-edit in mhc-summary-buffer</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00535.html">[mhc:00536] NO default date with mhc-edit in mhc-summary-buffer</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00538.html">[mhc:00539] Re: NO default date with mhc-edit in mhc-summary-buffer</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00537"><strong>Date</strong></a></li>
<li><a href="threads.html#00537"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
