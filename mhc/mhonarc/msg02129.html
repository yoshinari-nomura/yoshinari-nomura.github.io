<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:02130] Re: [ =?ISO&#45;2022&#45;JP?B?GyRCOD0+XUpzOXAbKEI=?= &#38; =?ISO&#45;2022&#45;JP?B?GyRCPEFMZBsoQg==?= ] guess date -->
<!--X-From-R13: [vzcrv [ADWEVWFO <zvzcrvNpnp.pb.wc> -->
<!--X-Date: Tue, 17 May 2005 03:00:59 &#45;0700 (PDT) -->
<!--X-Message-Id: 20050517.030059.78213402.mimpei@cac.co.jp -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 20050516.200450.50029369.nogunogu@mva.biglobe.ne.jp -->
<!--X-Reference: 20050517100427U.nom@vintage.swlab.it.okayama&#45;u.ac.jp -->
<!--X-Reference: 20050517.173728.08243104.nogunogu@mva.biglobe.ne.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:02130] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg02128.html">Date Prev</a>][<a href="msg02130.html">Date Next</a>][<a href="msg02128.html">Thread Prev</a>][<a href="msg02130.html">Thread Next</a>][<a href="maillist.html#02129">Date Index</a>][<a href="threads.html#02129">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:02130] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a>, <a href="mailto:nogunogu@DOMAIN.HIDDEN">nogunogu@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:02130] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</li>
<li><em>From</em>: Mimpei MORISHITA &lt;<a href="mailto:mimpei@DOMAIN.HIDDEN">mimpei@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 17 May 2005 03:00:59 -0700 (PDT)</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20050517.173728.08243104.nogunogu@DOMAIN.HIDDEN">20050517.173728.08243104.nogunogu@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:20050516.200450.50029369.nogunogu@DOMAIN.HIDDEN">20050516.200450.50029369.nogunogu@xxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20050517100427U.nom@DOMAIN.HIDDEN">20050517100427U.nom@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20050517.173728.08243104.nogunogu@DOMAIN.HIDDEN">20050517.173728.08243104.nogunogu@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&#x68EE;&#x4E0B;&#x3068;&#x7533;&#x3057;&#x307E;&#x3059;&#x3002;

From: NOGUCHI Yusuke &lt;nogunogu@xxxxxxxxxxxxxxxxx&gt;
Subject: [mhc:02129] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date
Date: Tue, 17 May 2005 17:37:28 +0900 (JST)
Message-ID: &lt;20050517.173728.08243104.nogunogu@xxxxxxxxxxxxxxxxx&gt;

&gt; &gt; mhc-guess-date-regexp-list &#x4E2D;&#x306E; throw &#x3092;&#x53D6;&#x308B;&#x3068;&#xFF0C;
&gt; &gt; &#x6700;&#x5F8C;&#x307E;&#x3067;&#x5019;&#x88DC;&#x306B;&#x306A;&#x308B;&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#xFF0E;
&gt; &gt; throw &#x3092;&#x633F;&#x5165;&#x3057;&#x305F;&#x6240;&#x4EE5;&#x524D;&#x306E; regexp &#x306B;&#x30DE;&#x30C3;&#x30C1;&#x3057;&#x305F;&#x5834;&#x5408;&#x306F;&#xFF0C;
&gt; &gt; &#x4EE5;&#x964D;&#x306E; regexp &#x3092;&#x4F7F;&#x3044;&#x307E;&#x305B;&#x3093;&#xFF0E;
&gt; 
&gt; &#x30A2;&#x30C9;&#x30D0;&#x30A4;&#x30B9;&#x901A;&#x308A;&#x3001;2&#x30AB;&#x6240;&#x306E; throw &#x3092;&#x30B3;&#x30E1;&#x30F3;&#x30C8;&#x30A2;&#x30A6;&#x30C8;&#x3057;&#x305F;&#x3068;&#x3053;&#x308D;&#x3001;&#x300C;18&#x65E5;&#x300D;&#x304C;&#x9078;
&gt; &#x629E;&#x5019;&#x88DC;&#x306B;&#x306A;&#x308A;&#x307E;&#x3057;&#x305F;&#x3002;

&#x307E;&#x305F;&#x306F;&#x3001;.emacs &#x306A;&#x308A;&#x3067;&#x3001;

(setq mhc-guess-ignore-english-date t)

&#x3068;&#x3057;&#x3066;&#x3057;&#x307E;&#x3046;&#x624B;&#x3082;&#x3042;&#x308A;&#x307E;&#x3059;&#x306D;&#x3002;&#x3053;&#x306E;&#x5834;&#x5408;&#x306B;&#x306F;&#x3001;&#x82F1;&#x8A9E;&#x65E5;&#x4ED8;&#x306F;&#x5019;&#x88DC;&#x306E;&#x5BFE;&#x8C61;&#x306B;&#x306A;&#x308A;&#x307E;
&#x305B;&#x3093;&#x3002;

&gt; &gt; throw &#x3092;&#x5165;&#x308C;&#x305F;&#x90E8;&#x5206;&#x306E;&#x524D;&#x5F8C;&#x306B;&#x65E5;&#x4ED8;&#x3051;&#x3068;&#x3057;&#x3066;&#x306E;&#x78BA;&#x304B;&#x3089;&#x3057;&#x3055;&#x306E;&#x843D;&#x5DEE;&#x304C;&#x3042;&#x308B;&#x3068;
&gt; &gt; &#x8003;&#x3048;&#x3066;&#xFF0C;&#x30B4;&#x30DF;&#x3092;&#x96C6;&#x3081;&#x306A;&#x3044;&#x3088;&#x3046;&#x306A;&#x914D;&#x616E;&#x304B;&#x3089;&#x305D;&#x3046;&#x3057;&#x3066;&#x3044;&#x307E;&#x3059;&#xFF0E;
&gt; &gt; &#x5916;&#x3059;&#x3068;&#xFF0C;&#x3046;&#x3063;&#x3068;&#x3046;&#x3057;&#x3044;&#x5834;&#x9762;&#x3082;&#x3042;&#x308B;&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#xFF0E;
&gt; &gt; &#x81EA;&#x5206;&#x306E;&#x30B9;&#x30BF;&#x30A4;&#x30EB;&#x306B;&#x5408;&#x308F;&#x305B;&#x3066;&#x5B9F;&#x9A13;&#x3057;&#x3066;&#x307F;&#x3066;&#x304F;&#x3060;&#x3055;&#x3044;&#xFF0E;
&gt; 
&gt; &#x79C1;&#x500B;&#x4EBA;&#x306E;&#x597D;&#x307F;&#x3067;&#x3044;&#x3046;&#x3068;&#x3001;&#x904E;&#x5270;&#x306B;&#x30D2;&#x30C3;&#x30C8;&#x3059;&#x308B;&#x65B9;&#x304C;&#x697D;&#x3067;&#x3059;&#x306D;&#x3002;
&gt; &quot;C-n/C-p&quot; &#x3067;&#x79FB;&#x52D5;&#x3059;&#x308B;&#x5206;&#x306B;&#x306F;&#x305D;&#x308C;&#x307B;&#x3069;&#x82E6;&#x306B;&#x306F;&#x306A;&#x308A;&#x307E;&#x305B;&#x3093;&#x304C;&#x3001;yyyy/mm/dd &#x3092;&#x5165;
&gt; &#x529B;&#x3059;&#x308B;&#x306E;&#x306F;&#x30E1;&#x30F3;&#x30C9;&#x306A;&#x6027;&#x8CEA;&#x3067;&#x3059;...

&#x82F1;&#x8A9E;&#x3082;&#x65E5;&#x672C;&#x8A9E;&#x3082;&#x5019;&#x88DC;&#x306B;&#x6319;&#x3052;&#x305F;&#x3044;&#x3068;&#x3044;&#x3046;&#x8981;&#x671B;&#x306F;&#x3001;&#x305D;&#x308C;&#x306A;&#x308A;&#x306B;&#x3042;&#x308B;&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#x3002;
&#x65E5;&#x82F1;&#x6DF7;&#x5408;&#x6587;&#x304C;&#x9001;&#x3089;&#x308C;&#x3066;&#x304F;&#x308B;&#x3053;&#x3068;(&#x305F;&#x3068;&#x3048;&#x3070;&#x82F1;&#x8A9E;&#x306E;&#x56FD;&#x969B;&#x4F1A;&#x8B70;&#x306E;&#x6848;&#x5185;&#x304C;&#x65E5;&#x672C;&#x8A9E;&#x306E;&#x30B3;
&#x30E1;&#x30F3;&#x30C8;&#x4ED8;&#x304D;&#x3067;&#x8EE2;&#x9001;&#x3055;&#x308C;&#x3066;&#x304F;&#x308B;&#x306A;&#x3069;)&#x3092;&#x8003;&#x3048;&#x308B;&#x3068;&#x3001;&#x65E5;&#x672C;&#x8A9E;&#x3068;&#x82F1;&#x8A9E;&#x3068;&#x3067;&#x306F;&#x3001;&#x53CC;&#x65B9;&#x72EC;
&#x7ACB;&#x306B;&#x30DE;&#x30C3;&#x30C1;&#x5BFE;&#x8C61;&#x3068;&#x3067;&#x304D;&#x308B;&#x65B9;&#x304C;&#x826F;&#x3044;&#x3088;&#x3046;&#x306B;&#x601D;&#x3048;&#x3066;&#x304D;&#x307E;&#x3057;&#x305F;&#x3002;
&#x3064;&#x307E;&#x308A;&#x3001;&#x65E5;&#x672C;&#x8A9E;&#x3068;&#x82F1;&#x8A9E;&#x3067; throw &#x306E;&#x4F4D;&#x7F6E;&#x3092;&#x5171;&#x6709;&#x305B;&#x305A;&#x306B;&#x3001;&#x5909;&#x6570;&#x3092;&#x5206;&#x3051;&#x3066;&#x3057;&#x307E;&#x3063;&#x305F;
&#x65B9;&#x304C;&#x826F;&#x3044;&#x3068;&#x3044;&#x3046;&#x3053;&#x3068;&#x3067;&#x3059;&#x3002;

&#x305D;&#x3053;&#x3067;&#x3001;&#x6DFB;&#x4ED8;&#x306E;&#x30D1;&#x30C3;&#x30C1;&#x3092;&#x66F8;&#x3044;&#x3066;&#x307F;&#x307E;&#x3057;&#x305F;&#x3002;
&#x3053;&#x308C;&#x3092;&#x5F53;&#x3066;&#x308B;&#x3068;&#x3001;

&gt; &gt; &#x6DFB;&#x4ED8;&#x306E; &quot;Subject: sample mail 1&quot; &#x3092;&#x30B9;&#x30B1;&#x30B8;&#x30E5;&#x30FC;&#x30EB;&#x767B;&#x9332;&#x3057;&#x3088;&#x3046;&#x3068;&#x3059;&#x308B;&#x3068;&#x3001;date &#x306E;
&gt; &gt; guess &#x306E;&#x969B;&#x3001;&#x5F15;&#x7528;&#x30E1;&#x30FC;&#x30EB;&#x306E;&#x60C5;&#x5831;&#x3067;&#x3042;&#x308B;
&gt; &gt; -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
&gt; &gt; &gt; Sent: Monday, May 16, 2005 7:04 PM
&gt; &gt; -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
&gt; &gt; &#x306E;&#x300C;May 16, 2005&#x300D;*&#x306E;&#x307F;* &#x304C;&#x691C;&#x51FA;&#x3055;&#x308C;&#x3001;&#x672C;&#x6765;&#x691C;&#x51FA;&#x3057;&#x3066;&#x3082;&#x3089;&#x3044;&#x305F;&#x3044;&#x300C;18&#x65E5;&#x300D;&#x304C;
&gt; &gt; &#x691C;&#x51FA;&#x3055;&#x308C;&#x307E;&#x305B;&#x3093;&#x3002;
&gt; &gt; C-n/C-p &#x3067;&#x3082;&#x5019;&#x88DC;&#x79FB;&#x52D5;&#x3067;&#x304D;&#x306A;&#x3044;&#x3088;&#x3046;&#x3067;&#x3059;&#x3002;

C-n/C-p &#x3067;&#x3001;&#x300C;18&#x65E5;&#x300D;&#x3068;&#x300C;May 16, 2005&#x300D;&#x3068;&#x3067;&#x884C;&#x3063;&#x305F;&#x308A;&#x6765;&#x305F;&#x308A;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x306A;&#x308B;
&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#x3002;&#x3088;&#x308D;&#x3057;&#x3051;&#x308C;&#x3070;&#x8A66;&#x3057;&#x3066;&#x307F;&#x3066;&#x304F;&#x3060;&#x3055;&#x3044;&#x3002;

--
&#x3082;&#x308A;&#x3057;&#x305F; &#x307F;&#x3093;&#x307A;&#x3044;
</pre><pre>Index: mhc-guess.el
===================================================================
RCS file: /cvsroot/mhc/emacs/mhc-guess.el,v
retrieving revision 1.23
diff -c -r1.23 mhc-guess.el
*** mhc-guess.el	24 Apr 2005 05:32:35 -0000	1.23
--- mhc-guess.el	17 May 2005 09:36:11 -0000
***************
*** 107,113 ****
  	      &quot;\\)?&quot;)
       mhc-guess/make-date-from-mmdd 2 3 8 9 10)
  
!     ;; USA style date format
      (,(concat &quot;\\(Jan\\(uary\\)?\\|Feb\\(ruary\\)?\\|Mar\\(ch\\)?\\|&quot;
  	      &quot;Apr\\(il\\)?\\|May\\|June?\\|July?\\|Aug\\(ust\\)?\\|&quot;
  	      &quot;Sep\\(tember\\)?\\|Oct\\(ober\\)?\\|&quot;
--- 107,135 ----
  	      &quot;\\)?&quot;)
       mhc-guess/make-date-from-mmdd 2 3 8 9 10)
  
!     throw
! 
!     (,(concat &quot;\\(&#x4ECA;&#x5EA6;\\|[&#x4ECA;&#x6765;&#x6B21;]&#x9031;\\|&#x518D;&#x6765;&#x9031;\\)[\n &#x3000;]*&#x306E;?[\n &#x3000;]*&quot;
! 	     &quot;\\([&#x6708;&#x706B;&#x6C34;&#x6728;&#x91D1;&#x571F;&#x65E5;]\\)&#x66DC;&quot;)
!      mhc-guess/make-date-from-relative-week 1 2)
! 
!     throw
! 
!     (&quot;\\([&#xFF10;-&#xFF19;0-9]+\\)[\n &#x3000;]*&#x65E5;&quot;
!      mhc-guess/make-date-from-mmdd nil 1)
! 
!     (&quot;\\([&#xFF10;-&#xFF19;0-9]+\\)[ &#x3000;]*[(&#xFF08;][&#x6708;&#x706B;&#x6C34;&#x6728;&#x91D1;&#x571F;&#x65E5;]&quot;
!      mhc-guess/make-date-from-mmdd nil 1)
! 
!     (&quot;[^\(&#xFF08;]\\([&#x6708;&#x706B;&#x6C34;&#x6728;&#x91D1;&#x571F;&#x65E5;]\\)\n?&#x66DC;&quot;
!      mhc-guess/make-date-from-relative-week nil 1)
! 
!     (&quot;\\(&#x672C;&#x65E5;\\|&#x4ECA;&#x65E5;\\|&#x3042;&#x3059;\\|&#x3042;&#x3057;&#x305F;\\|&#x3042;&#x3055;&#x3063;&#x3066;\\|&#x660E;&#x65E5;\\|&#x660E;&#x5F8C;&#x65E5;\\)&quot;
!      mhc-guess/make-date-from-relative-day 1)
!     ))
! 
! (defvar mhc-guess-date-english-regexp-list
!   `(
      (,(concat &quot;\\(Jan\\(uary\\)?\\|Feb\\(ruary\\)?\\|Mar\\(ch\\)?\\|&quot;
  	      &quot;Apr\\(il\\)?\\|May\\|June?\\|July?\\|Aug\\(ust\\)?\\|&quot;
  	      &quot;Sep\\(tember\\)?\\|Oct\\(ober\\)?\\|&quot;
***************
*** 117,123 ****
  	      &quot;\\(\\('\\|[1-9][0-9]\\)?[0-9][0-9]\\)?&quot;) ;; year
       mhc-guess/make-date-from-usa-style-date 1 11 13)
  
-     ;; British style date format
      (,(concat &quot;\\([0-9][0-9]?\\)\\(st\\|nd\\rd\\|th\\)?,? &quot; ;; day
  	      &quot;\\(Jan\\(uary\\)?\\|Feb\\(ruary\\)?\\|Mar\\(ch\\)?\\|&quot;
  	      &quot;Apr\\(il\\)?\\|May\\|June?\\|July?\\|Aug\\(ust\\)?\\|&quot;
--- 139,144 ----
***************
*** 129,138 ****
  
      throw
  
-     (,(concat &quot;\\(&#x4ECA;&#x5EA6;\\|[&#x4ECA;&#x6765;&#x6B21;]&#x9031;\\|&#x518D;&#x6765;&#x9031;\\)[\n &#x3000;]*&#x306E;?[\n &#x3000;]*&quot;
- 	     &quot;\\([&#x6708;&#x706B;&#x6C34;&#x6728;&#x91D1;&#x571F;&#x65E5;]\\)&#x66DC;&quot;)
-      mhc-guess/make-date-from-relative-week 1 2)
- 
      (,(concat &quot;\\([Tt]his\\|[Nn]ext\\)[\n ]+&quot;
                &quot;\\(Monday\\|Tuesday\\|Wednesday\\|Thursday\\|Friday\\|&quot;
  	      &quot;Saturday\\|Sunday\\)&quot;)
--- 150,155 ----
***************
*** 145,166 ****
  
      throw
  
-     (&quot;\\([&#xFF10;-&#xFF19;0-9]+\\)[\n &#x3000;]*&#x65E5;&quot;
-      mhc-guess/make-date-from-mmdd nil 1)
- 
-     (&quot;\\([&#xFF10;-&#xFF19;0-9]+\\)[ &#x3000;]*[(&#xFF08;][&#x6708;&#x706B;&#x6C34;&#x6728;&#x91D1;&#x571F;&#x65E5;]&quot;
-      mhc-guess/make-date-from-mmdd nil 1)
- 
-     (&quot;[^\(&#xFF08;]\\([&#x6708;&#x706B;&#x6C34;&#x6728;&#x91D1;&#x571F;&#x65E5;]\\)\n?&#x66DC;&quot;
-      mhc-guess/make-date-from-relative-week nil 1)
- 
      (,(concat &quot;\\(Monday\\|Tuesday\\|Wednesday\\|Thursday\\|Friday\\|&quot;
  	      &quot;Saturday\\|Sunday\\)&quot;)
       mhc-guess/make-date-from-english-relative-week 1 nil nil)
  
-     (&quot;\\(&#x672C;&#x65E5;\\|&#x4ECA;&#x65E5;\\|&#x3042;&#x3059;\\|&#x3042;&#x3057;&#x305F;\\|&#x3042;&#x3055;&#x3063;&#x3066;\\|&#x660E;&#x65E5;\\|&#x660E;&#x5F8C;&#x65E5;\\)&quot;
-      mhc-guess/make-date-from-relative-day 1)
- 
      (,(concat &quot;\\([Tt]oday\\|[Tt]omorrow\\|&quot;
  	      &quot;[Tt]he[ \n]+[Dd]ay[ \n]+[Aa]fter[ \n]+[Tt]omorrow\\)&quot;)
       mhc-guess/make-date-from-english-relative-day 1)
--- 162,171 ----
***************
*** 249,258 ****
  (defun mhc-guess-date (&amp;optional hint1)
    (let ((now (or (mhc-date-new-from-string3 (mhc-header-get-value &quot;Date&quot;))
  		 (mhc-date-now))))
!     (mhc-guess/guess mhc-guess-date-regexp-list hint1 now)))
  
  (defun mhc-guess-time (&amp;optional hint1)
!   (mhc-guess/guess mhc-guess-time-regexp-list hint1))
  
  (defun mhc-guess-location-setup ()
    (if mhc-guess-location-list
--- 254,267 ----
  (defun mhc-guess-date (&amp;optional hint1)
    (let ((now (or (mhc-date-new-from-string3 (mhc-header-get-value &quot;Date&quot;))
  		 (mhc-date-now))))
!     (mhc-guess/guess
!      (if mhc-guess-ignore-english-date
! 	 (list mhc-guess-date-regexp-list)
!        (list mhc-guess-date-regexp-list mhc-guess-date-english-regexp-list))
!      hint1 now)))
  
  (defun mhc-guess-time (&amp;optional hint1)
!   (mhc-guess/guess (list mhc-guess-time-regexp-list) hint1))
  
  (defun mhc-guess-location-setup ()
    (if mhc-guess-location-list
***************
*** 268,274 ****
      (setq mhc-guess/location-regexp-list mhc-guess-location-regexp-list)))
    
  (defun mhc-guess-location (&amp;optional hint1)
!   (mhc-guess/guess mhc-guess/location-regexp-list hint1))
  
  (defun mhc-guess/guess (control-regexp-lst &amp;optional hint1 now)
    (let ((score-list
--- 277,283 ----
      (setq mhc-guess/location-regexp-list mhc-guess-location-regexp-list)))
    
  (defun mhc-guess-location (&amp;optional hint1)
!   (mhc-guess/guess (list mhc-guess/location-regexp-list) hint1))
  
  (defun mhc-guess/guess (control-regexp-lst &amp;optional hint1 now)
    (let ((score-list
***************
*** 288,307 ****
  ;;
  
  (defun mhc-guess/gather-candidate (control-regexp-lst &amp;optional now)
!   (let ((ret nil) cand-lst)
      (while control-regexp-lst
!       (cond
!        ((listp (car control-regexp-lst))
!  	(if (setq cand-lst
!  		  (mhc-guess/gather-candidate2
!  		   (car (car control-regexp-lst))       ;; regexp
!  		   (car (cdr (car control-regexp-lst))) ;; convfunc
!  		   (cdr (cdr (car control-regexp-lst))) ;; posision list
!  		   now                          ;; current date
!  		   ))
!  	    (setq ret (nconc ret cand-lst))))
!        ((and (string= &quot;throw&quot; (symbol-name (car control-regexp-lst))) ret)
!  	(setq control-regexp-lst nil)))
        (setq control-regexp-lst (cdr control-regexp-lst)))
      ret))
  
--- 297,325 ----
  ;;
  
  (defun mhc-guess/gather-candidate (control-regexp-lst &amp;optional now)
!   (let ((ret nil) ret-work cand-lst cr-lst)
      (while control-regexp-lst
!       (setq cr-lst (car control-regexp-lst))
!       (while cr-lst
! 	(cond
! 	 ((listp (car cr-lst))
! 	  (if (setq cand-lst
! 		    (mhc-guess/gather-candidate2
! 		     (car (car cr-lst))       ;; regexp
! 		     (car (cdr (car cr-lst))) ;; convfunc
! 		     (cdr (cdr (car cr-lst))) ;; posision list
! 		     now                          ;; current date
! 		   ))
! 	      (setq ret-work (nconc ret-work cand-lst))))
! 	 ((and (string= &quot;throw&quot; (symbol-name (car cr-lst))) ret-work)
! 	  (setq ret (nconc ret ret-work))
! 	  (setq ret-work nil)
! 	  (setq cr-lst nil)))
! 	(setq cr-lst (cdr cr-lst)))
!       (if ret-work
! 	  (progn
! 	    (setq ret (nconc ret ret-work))
! 	    (setq ret-work nil)))
        (setq control-regexp-lst (cdr control-regexp-lst)))
      ret))
  
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="02130" href="msg02130.html">[mhc:02131] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</a></strong>
<ul><li><em>From:</em> NOGUCHI Yusuke</li></ul></li>
<li><strong><a name="02140" href="msg02140.html">[mhc:02141] Re: www.quickhack.net/mhc &#x3067;&#x306E;&#x516C;&#x958B; tar.gz &#x30D1;&#x30C3;&#x30B1;&#x30FC;&#x30B8;&#x306B;&#x3064;&#x3044;&#x3066;</a></strong>
<ul><li><em>From:</em> NOGUCHI Yusuke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="02126" href="msg02126.html">[mhc:02127] [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</a></strong>
<ul><li><em>From:</em> NOGUCHI Yusuke</li></ul></li>
<li><strong><a name="02127" href="msg02127.html">[mhc:02128] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</a></strong>
<ul><li><em>From:</em> Yoshinari Nomura</li></ul></li>
<li><strong><a name="02128" href="msg02128.html">[mhc:02129] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</a></strong>
<ul><li><em>From:</em> NOGUCHI Yusuke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg02128.html">[mhc:02129] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg02130.html">[mhc:02131] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg02128.html">[mhc:02129] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg02130.html">[mhc:02131] Re: [ &#x73FE;&#x8C61;&#x5831;&#x544A; &amp; &#x8CEA;&#x554F; ] guess date</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#02129"><strong>Date</strong></a></li>
<li><a href="threads.html#02129"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
