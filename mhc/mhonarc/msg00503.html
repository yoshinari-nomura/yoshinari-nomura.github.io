<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:00504] Re: About T&#45;gnus support ( Re: Variable binding depth exceeds max&#45;specpdl&#45;size ) -->
<!--X-From-R13: FEGQVWKO [nfngbfuv <gfhpuvlnNcvar.xhrr.xlbgb&#45;h.np.wc> -->
<!--X-Date: Wed, 19 Apr 2000 12:55:06 +0900 -->
<!--X-Message-Id: mpan1mqvj6z.fsf@olive.kuee.kyoto&#45;u.ac.jp -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 20000301182205S.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Reference: 200004161441.XAA17560@crest.csce.kyushu&#45;u.ac.jp -->
<!--X-Reference: wk4s92829k.fsf@miyoshi.ask.ne.jp -->
<!--X-Reference: mpa1z45v9ol.fsf_&#45;_@olive.kuee.kyoto&#45;u.ac.jp -->
<!--X-Reference: wkr9c54hlp.fsf@metaxa.hrl.hitachi.co.jp -->
<!--X-Reference: mpak8hxmp49.fsf@olive.kuee.kyoto&#45;u.ac.jp -->
<!--X-Reference: wkitxhgm0i.fsf@metaxa.hrl.hitachi.co.jp -->
<!--X-Reference: mpad7noz1xo.fsf@olive.kuee.kyoto&#45;u.ac.jp -->
<!--X-Reference: wkn1msql7v.fsf@metaxa.hrl.hitachi.co.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:00504] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00502.html">Date Prev</a>][<a href="msg00504.html">Date Next</a>][<a href="msg00498.html">Thread Prev</a>][<a href="msg00504.html">Thread Next</a>][<a href="maillist.html#00503">Date Index</a>][<a href="threads.html#00503">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:00504] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:00504] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</li>
<li><em>From</em>: TSUCHIYA Masatoshi &lt;<a href="mailto:tsuchiya@DOMAIN.HIDDEN">tsuchiya@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 19 Apr 2000 12:55:06 +0900</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:wkn1msql7v.fsf@DOMAIN.HIDDEN">wkn1msql7v.fsf@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; (MIYOSHI Masanori's message of &quot;Tue, 18 Apr 2000 09:58:09 +0900&quot;)</li>
<li><em>Posted</em>: 19 Apr 2000 12:55:00 +0900</li>
<li><em>References</em>: &lt;<a href="mailto:20000301182205S.nom@DOMAIN.HIDDEN">20000301182205S.nom@xxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:200004161441.XAA17560@DOMAIN.HIDDEN">200004161441.XAA17560@xxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:wk4s92829k.fsf@DOMAIN.HIDDEN">wk4s92829k.fsf@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:mpa1z45v9ol.fsf_-_@DOMAIN.HIDDEN">mpa1z45v9ol.fsf_-_@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:wkr9c54hlp.fsf@DOMAIN.HIDDEN">wkr9c54hlp.fsf@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:mpak8hxmp49.fsf@DOMAIN.HIDDEN">mpak8hxmp49.fsf@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:wkitxhgm0i.fsf@DOMAIN.HIDDEN">wkitxhgm0i.fsf@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:mpad7noz1xo.fsf@DOMAIN.HIDDEN">mpad7noz1xo.fsf@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:wkn1msql7v.fsf@DOMAIN.HIDDEN">wkn1msql7v.fsf@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Sender</em>: <a href="mailto:tsuchiya@DOMAIN.HIDDEN">tsuchiya@xxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: T-gnus/6.14.1 (based on Gnus v5.8.3) (revision 16) SEMI/1.13.7 (Awazu) FLIM/1.13.2 (Kasanui) Emacs/20.6 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt;&gt; On Tue, 18 Apr 2000 09:58:09 +0900
&gt;&gt; &#x300C;&#x4E09;&#x597D;&#x300D;== miyoshi@xxxxxxxxxxxxxxxxx (MIYOSHI Masanori) said as follows:

&#x4E09;&#x597D;&gt; &#x4E00;&#x5FDC;&#x4FEE;&#x6B63;&#x7248;&#x306E;&#x30D1;&#x30C3;&#x30C1;&#x3092;&#x6DFB;&#x4ED8;&#x3057;&#x307E;&#x3059;&#x3002;

&#x3053;&#x306E;&#x30D1;&#x30C3;&#x30C1;&#x3067;&#x3082;&#x3001;&#x6642;&#x3005;&#x304A;&#x304B;&#x3057;&#x304F;&#x306A;&#x3063;&#x3066;&#x3057;&#x307E;&#x3046;&#x306E;&#x3067;&#x3001;&#x518D;&#x5B9F;&#x88C5;&#x3057;&#x3066;&#x307F;&#x307E;&#x3057;&#x305F;&#x3002;
T-gnus 6.14.1 r16 (based on Gnus v5.8.3 ; for SEMI 1.13, FLIM 1.13) &#x306E;
&#x74B0;&#x5883;&#x3067;&#x306F;&#x3001;&#x6B63;&#x5E38;&#x306B;&#x52D5;&#x4F5C;&#x3057;&#x3066;&#x3044;&#x308B;&#x3088;&#x3046;&#x306B;&#x898B;&#x3048;&#x307E;&#x3059;&#x3002;

</pre><pre>--- mhc.el	2000/04/18 10:40:17	1.4
+++ mhc.el	2000/04/19 03:51:13
@@ -402,41 +402,41 @@
 	(setq mew-use-highlight-cursor-line nil))
        ((eq mhc-mailer-package 'gnus)
 	;; initialize gnus groups.
-	(let* ((dirlist (list (concat (mhc-gnus-ddate-to-folder ddate) &quot;/&quot;)
-			      (concat (mhc-summary-folder-to-path
-				       mhc-base-folder) &quot;/intersect/&quot;)))
-	       (vgroup mhc-base-folder) (pvgroup (concat &quot;nnvirtual:&quot; vgroup))
-	       dir pdir methods)
-	  ;; initialize nndir groups.
-	  (while dirlist
-	    (setq dir (car dirlist))
-	    (setq pdir (concat &quot;nndir:&quot; dir))
-	    (if (gnus-gethash pdir gnus-newsrc-hashtb)
-		(save-window-excursion
-		  (if (gnus-group-read-group 0 t pdir)
-		      (kill-buffer nil)))
-	      (if (not (file-exists-p dir))
-		  (mhc-file-make-directory dir))
-	      (let ((temp-buffer (get-buffer-create
-				  (generate-new-buffer-name &quot; *temp*&quot;))))
-		(unwind-protect
-		    (save-current-buffer
-		      (set-buffer temp-buffer)
-		      (gnus-group-make-directory-group dir))
-		  (kill-buffer temp-buffer))))
-	    (if methods (setq methods (concat methods &quot;\\|&quot;)))
-	    (setq methods (concat methods &quot;\\(^&quot; pdir &quot;$\\)&quot;))
-	    (setq dirlist (cdr dirlist)))
+	(let* ((vgroup mhc-base-folder)
+	       (pvgroup (gnus-group-prefixed-name vgroup '(nnvirtual))))
 	  ;; initialize a nnvirtual group.
 	  (if (not (gnus-gethash pvgroup gnus-newsrc-hashtb))
 	      (gnus-group-make-empty-virtual vgroup))
 	  (gnus-close-group pvgroup)
-	  (setcar (cdr (gnus-info-method (gnus-get-info pvgroup))) methods)
-	  (save-window-excursion
-	    (if (gnus-group-read-group 0 t pvgroup)
-		(progn
-		  (gnus-summary-rescan-group)
-		  (kill-buffer nil))))
+	  (setcar (cdr (gnus-info-method (gnus-get-info pvgroup)))
+		  ;; generate regexp matches nndir groups.
+		  (mapconcat
+		   (lambda (s)
+		     (concat &quot;\\(^&quot; (regexp-quote s) &quot;$\\)&quot;))
+		   ;; initialize nndir groups.
+		   (delq nil
+			 (mapcar
+			  (lambda (dir)
+			    (setq dir (file-name-as-directory dir))
+			    (let* ((method `(nndir ,dir (nndir-directory ,dir)))
+				   (group (gnus-group-prefixed-name dir method)))
+			      (if (gnus-gethash group gnus-newsrc-hashtb)
+				  group
+				(mhc-file-make-directory dir)
+				(let ((temp-buffer (get-buffer-create
+						    (generate-new-buffer-name &quot; *temp*&quot;))))
+				  (unwind-protect
+				      (save-current-buffer
+					(set-buffer temp-buffer)
+					(gnus-group-make-group dir method)
+					(gnus-subscribe-group group))
+				    (kill-buffer temp-buffer)))
+				group)))
+			  (list (mhc-gnus-ddate-to-folder ddate)
+				(expand-file-name &quot;intersect&quot;
+						  (mhc-summary-folder-to-path mhc-base-folder)))))
+		   &quot;\\|&quot;))
+	  (gnus-activate-group pvgroup 'scan)
 	  (make-local-variable 'gnus-newsgroup-data)))))
     (message &quot;Scanning %s ...&quot; (ddate-yymm-s1 ddate &quot;/&quot;))
     (mhc-sch-scan (ddate-mm-first-day ddate)
</pre><pre>-- 
&#x571F;&#x5C4B; &#x96C5;&#x7A14;  ( TSUCHIYA Masatoshi )
    <a  rel="nofollow" href="http://www-nagao.kuee.kyoto-u.ac.jp/member/tsuchiya/">http://www-nagao.kuee.kyoto-u.ac.jp/member/tsuchiya/</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00504" href="msg00504.html">[mhc:00505] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
<ul><li><em>From:</em> MIYOSHI Masanori</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00427" href="msg00427.html">[mhc:00428] mhc-snap20000301</a></strong>
<ul><li><em>From:</em> Yoshinari Nomura</li></ul></li>
<li><strong><a name="00481" href="msg00481.html">[mhc:00482] Variable binding depth exceeds max-specpdl-size</a></strong>
<ul><li><em>From:</em> TSUCHIYA Masatoshi</li></ul></li>
<li><strong><a name="00484" href="msg00484.html">[mhc:00485] Re: Variable binding depth exceeds max-specpdl-size</a></strong>
<ul><li><em>From:</em> MIYOSHI Masanori</li></ul></li>
<li><strong><a name="00487" href="msg00487.html">[mhc:00488] About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
<ul><li><em>From:</em> TSUCHIYA Masatoshi</li></ul></li>
<li><strong><a name="00489" href="msg00489.html">[mhc:00490] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
<ul><li><em>From:</em> MIYOSHI Masanori</li></ul></li>
<li><strong><a name="00491" href="msg00491.html">[mhc:00492] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
<ul><li><em>From:</em> TSUCHIYA Masatoshi</li></ul></li>
<li><strong><a name="00495" href="msg00495.html">[mhc:00496] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
<ul><li><em>From:</em> MIYOSHI Masanori</li></ul></li>
<li><strong><a name="00497" href="msg00497.html">[mhc:00498] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
<ul><li><em>From:</em> TSUCHIYA Masatoshi</li></ul></li>
<li><strong><a name="00498" href="msg00498.html">[mhc:00499] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
<ul><li><em>From:</em> MIYOSHI Masanori</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00502.html">[mhc:00503] Re: mhc-cvs.el</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00504.html">[mhc:00505] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00498.html">[mhc:00499] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00504.html">[mhc:00505] Re: About T-gnus support ( Re: Variable binding depth exceeds max-specpdl-size )</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00503"><strong>Date</strong></a></li>
<li><a href="threads.html#00503"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
