<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:01093] Re: mhc&#45;cvs -->
<!--X-From-R13: FEGQVWKO [nfngbfuv <gfhpuvlnNcvar.xhrr.xlbgb&#45;h.np.wc> -->
<!--X-Date: 20 Oct 2000 10:50:19 +0900 -->
<!--X-Message-Id: mpa8zrk8en8.fsf@azalea.kuee.kyoto&#45;u.ac.jp -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 20001018020315U.baba@kusastro.kyoto&#45;u.ac.jp -->
<!--X-Reference: 00Oct16.183738jst.29570@gateway.suri.co.jp -->
<!--X-Reference: 20001019.153305.46633003.shirai@rdmg.mgcs.mei.co.jp -->
<!--X-Reference: 20001019180210A.baba@kusastro.kyoto&#45;u.ac.jp -->
<!--X-Reference: 20001019.185750.68559269.shirai@rdmg.mgcs.mei.co.jp -->
<!--X-Reference: 00Oct20.003545jst.29570@gateway.suri.co.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:01093] Re: mhc-cvs</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01091.html">Date Prev</a>][<a href="msg01093.html">Date Next</a>][<a href="msg01091.html">Thread Prev</a>][<a href="msg01093.html">Thread Next</a>][<a href="maillist.html#01092">Date Index</a>][<a href="threads.html#01092">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:01093] Re: mhc-cvs</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:01093] Re: mhc-cvs</li>
<li><em>From</em>: TSUCHIYA Masatoshi &lt;<a href="mailto:tsuchiya@DOMAIN.HIDDEN">tsuchiya@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: 20 Oct 2000 10:50:19 +0900</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:00Oct20.003545jst.29570@DOMAIN.HIDDEN">00Oct20.003545jst.29570@xxxxxxxxxxxxxxxxxx</a>&gt; (KOIE Hidetaka (&#x9BC9;&#x6C5F;&#x82F1;&#x9686;)'s message of &quot;Fri, 20 Oct 2000 00:35:39 +0900&quot;)</li>
<li><em>References</em>: &lt;<a href="mailto:20001018020315U.baba@DOMAIN.HIDDEN">20001018020315U.baba@xxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:00Oct16.183738jst.29570@DOMAIN.HIDDEN">00Oct16.183738jst.29570@xxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20001019.153305.46633003.shirai@DOMAIN.HIDDEN">20001019.153305.46633003.shirai@xxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20001019180210A.baba@DOMAIN.HIDDEN">20001019180210A.baba@xxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20001019.185750.68559269.shirai@DOMAIN.HIDDEN">20001019.185750.68559269.shirai@xxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:00Oct20.003545jst.29570@DOMAIN.HIDDEN">00Oct20.003545jst.29570@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
<li><em>Sender</em>: <a href="mailto:tsuchiya@DOMAIN.HIDDEN">tsuchiya@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: T-gnus/6.14.5 (based on Gnus v5.8.7) (revision 04) REMI/1.14.3 (Matsudai) Chao/1.14.1 (Rokujiz&#x14D;) APEL/10.2 Emacs/20.7 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&#x571F;&#x5C4B;&#xFF20;&#x73FE;&#x5B9F;&#x9003;&#x907F;&#x30E2;&#x30FC;&#x30C9;&#x3002;


&gt;&gt; On Fri, 20 Oct 2000 00:35:39 +0900
&gt;&gt; hide@xxxxxxxx (KOIE Hidetaka (&#x9BC9;&#x6C5F;&#x82F1;&#x9686;)) said as follows:

&gt;&#x73FE;&#x72B6;&#x3067;&#x306F;process-environment&#x3092;&#x4E00;&#x6642;&#x7684;&#x306B;&#x30D0;&#x30A4;&#x30F3;&#x30C9;&#x3057;&#x3068;&#x3044;&#x3066;
&gt;mhc-cvs.el&#x3067;(setenv &quot;CVS_RSH&quot; &quot;ssh&quot;)&#x3059;&#x308B;&#x306E;&#x304C;&#x6B63;&#x3057;&#x3044;&#x304B;&#x306A;&#x3041;&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#x3002;

&#x305D;&#x3093;&#x306A;&#x5909;&#x6570;&#x304C;&#x3042;&#x308B;&#x306E;&#x3067;&#x3059;&#x304B;&#x3001;&#x3068;&#x8208;&#x5473;&#x3092;&#x3082;&#x3063;&#x305F;&#x306E;&#x3067;&#x3001;3&#x5206;&#x9593;&#x30B3;&#x30FC;&#x30C7;&#x30A3;&#x30F3;&#x30B0;&#x3057;&#x3066;&#x307F;
&#x307E;&#x3057;&#x305F;&#x3002;&#x4EE5;&#x4E0B;&#x306E;&#x3088;&#x3046;&#x306A;&#x5909;&#x66F4;&#x3067;&#x3069;&#x3046;&#x3067;&#x3057;&#x3087;&#x3046;? &#x52D5;&#x4F5C;&#x78BA;&#x8A8D;&#x3057;&#x3066;&#x306A;&#x3044;&#x306E;&#x3067;&#x3001;commit 
&#x306F;&#x307E;&#x3060;&#x3067;&#x3059;&#x3002;

# CVS &#x306E;&#x5E79;&#x306E;&#x5148;&#x7AEF;&#x306B;&#x8FFD;&#x3044;&#x4ED8;&#x3044;&#x3066;&#x3044;&#x306A;&#x3044;&#x306E;&#x3067;&#x3001;&#x52D5;&#x4F5C;&#x78BA;&#x8A8D;&#x3082;&#x51FA;&#x6765;&#x306A;&#x3044;&#x72B6;&#x6CC1;&#x306A;&#x3093;&#x3067;&#x3059;&#x3002;
# &#x3059;&#x307F;&#x307E;&#x305B;&#x3093;&#x3002;

## (mhc-cvs/shrink-file-name) &#x306A;&#x3093;&#x3067;&#x3059;&#x3051;&#x3069;&#x3001;(file-relative-name) &#x3092;&#x4F7F;
## &#x3046;&#x3068;&#x7C21;&#x5358;&#x306A;&#x306E;&#x3067;&#x306F;&#x306A;&#x3044;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B; &gt; &#x767D;&#x4E95;&#x3055;&#x3093;

</pre><pre>Index: mhc-cvs.el
===================================================================
RCS file: /cvsroot/mhc/emacs/mhc-cvs.el,v
retrieving revision 1.5
diff -u -u -r1.5 mhc-cvs.el
--- mhc-cvs.el	2000/10/19 06:19:24	1.5
+++ mhc-cvs.el	2000/10/20 01:50:15
@@ -76,7 +76,12 @@
   :group 'mhc
   :type 'string)
 
+(defcustom mhc-cvs-rsh &quot;rsh&quot;
+  &quot;*The name of the remote shell command to use when starting a cvs server.&quot;
+  :group 'mhc
+  :type 'string)
 
+
 ;;; Internal Variable:
 (defvar mhc-cvs/default-directory nil)
 
@@ -93,7 +98,9 @@
 	(progn
 	  (set-buffer buffer)
 	  (delete-region (point-min) (point-max))
-	  (let ((default-directory (file-name-as-directory mhc-cvs/default-directory)))
+	  (let ((default-directory (file-name-as-directory mhc-cvs/default-directory))
+		(process-environment process-environment))
+	    (setenv &quot;CVS_RSH&quot; mhc-cvs-rsh)
 	    (apply #'call-process &quot;cvs&quot; nil t nil
 		   (append mhc-cvs-global-options options))))
       (set-buffer current-buffer))))
@@ -135,15 +142,9 @@
 
 (defun mhc-cvs/shrink-file-name (file)
   &quot;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&#x306E;&#x76F8;&#x5BFE;&#x30D1;&#x30B9;&#x3092;&#x5F97;&#x308B;&#x95A2;&#x6570;&quot;
-  (let ((base (concat
-	       &quot;^&quot;
-	       (regexp-quote
-		(file-name-as-directory
-		 (mhc-summary-folder-to-path mhc-base-folder))))))
-    (setq file (expand-file-name file))
-    (if (string-match base file)
-	(substring file (match-end 0))
-      file)))
+  (file-relative-name
+   (expand-file-name file)
+   (mhc-summary-folder-to-path mhc-base-folder)))
 
 (defun mhc-cvs/close (&amp;optional offline)
   &quot;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x306E;&#x72B6;&#x614B;&#x306B;&#x4F9D;&#x5B58;&#x3059;&#x308B;&#x7D42;&#x4E86;&#x51E6;&#x7406;&#x95A2;&#x6570;&quot;
</pre><pre>-- 
&#x571F;&#x5C4B; &#x96C5;&#x7A14;  ( TSUCHIYA Masatoshi )
    <a  rel="nofollow" href="http://www-nagao.kuee.kyoto-u.ac.jp/member/tsuchiya/">http://www-nagao.kuee.kyoto-u.ac.jp/member/tsuchiya/</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01093" href="msg01093.html">[mhc:01094] Re: mhc-cvs</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01085" href="msg01085.html">[mhc:01086] Re: mhc-cvs</a></strong>
<ul><li><em>From:</em> Hajime BABA</li></ul></li>
<li><strong><a name="01072" href="msg01072.html">[mhc:01073] Re: mhc-cvs/read-repository-path</a></strong>
<ul><li><em>From:</em> &#x9BC9;&#x6C5F;&#x82F1;&#x9686;</li></ul></li>
<li><strong><a name="01088" href="msg01088.html">[mhc:01089] Re: mhc-cvs</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
<li><strong><a name="01089" href="msg01089.html">[mhc:01090] Re: mhc-cvs</a></strong>
<ul><li><em>From:</em> Hajime BABA</li></ul></li>
<li><strong><a name="01090" href="msg01090.html">[mhc:01091] Re: mhc-cvs</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
<li><strong><a name="01091" href="msg01091.html">[mhc:01092] Re: mhc-cvs</a></strong>
<ul><li><em>From:</em> &#x9BC9;&#x6C5F;&#x82F1;&#x9686;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01091.html">[mhc:01092] Re: mhc-cvs</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01093.html">[mhc:01094] Re: mhc-cvs</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01091.html">[mhc:01092] Re: mhc-cvs</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01093.html">[mhc:01094] Re: mhc-cvs</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01092"><strong>Date</strong></a></li>
<li><a href="threads.html#01092"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
