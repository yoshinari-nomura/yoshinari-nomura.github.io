<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:00588] Re: mhc&#45;calendar.el -->
<!--X-From-R13: Kbfuvanev @A[GDO <abzNpfpr.xlhfuh&#45;h.np.wc> -->
<!--X-Date: Wed, 10 May 2000 18:12:42 +0900 -->
<!--X-Message-Id: 20000510181240C.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20000508.105511.120910939.shirai@rdmg.mgcs.mei.co.jp -->
<!--X-Reference: 20000509122615C.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Reference: 20000509.195533.120896414.shirai@rdmg.mgcs.mei.co.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:00588] Re: mhc-calendar.el</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00586.html">Date Prev</a>][<a href="msg00588.html">Date Next</a>][<a href="msg00583.html">Thread Prev</a>][<a href="msg00588.html">Thread Next</a>][<a href="maillist.html#00587">Date Index</a>][<a href="threads.html#00587">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:00588] Re: mhc-calendar.el</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:00588] Re: mhc-calendar.el</li>
<li><em>From</em>: Yoshinari NOMURA &lt;<a href="mailto:nom@DOMAIN.HIDDEN">nom@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 10 May 2000 18:12:42 +0900</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20000509.195533.120896414.shirai@DOMAIN.HIDDEN">20000509.195533.120896414.shirai@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Posted</em>: Wed, 10 May 2000 18:12:40 +0900</li>
<li><em>References</em>: &lt;<a href="mailto:20000508.105511.120910939.shirai@DOMAIN.HIDDEN">20000508.105511.120910939.shirai@xxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20000509122615C.nom@DOMAIN.HIDDEN">20000509122615C.nom@xxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20000509.195533.120896414.shirai@DOMAIN.HIDDEN">20000509.195533.120896414.shirai@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Tue, 9 May 2000 20:02:13 +0900,
	Hideyuki SHIRAI (&#x767D;&#x4E95;&#x79C0;&#x884C;) &lt;shirai@xxxxxxxxxxxxxxxxxxx&gt; said:

&gt; &#x4E86;&#x89E3;&#x3067;&#x3059;&#x3002;&#x76F4;&#x3057;&#x307E;&#x3057;&#x305F;&#x3002;

&#x3046;&#x307E;&#x304F;&#x52D5;&#x3044;&#x3066;&#x3044;&#x308B;&#x3088;&#x3046;&#x3067;&#x3059;&#x3002;

&#x3042;&#x3068;&#x3001;&#x4F8B;&#x3048;&#x3070;&#x3001;&#x3053;&#x306E;&#x30C9;&#x30E9;&#x30D5;&#x30C8;&#x306B;&#x65E5;&#x4ED8;&#x3051;&#x3092;&#x5165;&#x308C;&#x305F;&#x304F;&#x3066;&#x3001;
M-x mhc-calendar &#x3063;&#x3066;&#x3084;&#x3063;&#x3066;&#x3001;RET &#x3092;&#x62BC;&#x3057;&#x305F;&#x5834;&#x5408;&#x306B;&#x3001;

  mhc-calendar: something error occur when insert.

&#x3068;&#x306A;&#x308A;&#x307E;&#x3059;&#x3002;&#x4F55;&#x51E6;&#x3067;&#x3082;&#x5165;&#x308C;&#x3089;&#x308C;&#x308B;&#x3068;&#x5B09;&#x3057;&#x3044;&#x306E;&#x3067;&#x3059;&#x304C;&#x3002;

&gt; &#x3053;&#x308C;&#x3001;&#x30B9;&#x30C3;&#x30B4;&#x30AF;&#x6CA2;&#x5C71;&#x3042;&#x308B;&#x3093;&#x3067;&#x3059;&#x3002;(&#x6708;&#x304C;&#x306A;&#x304F;&#x3066;)&#x65E5;&#x3060;&#x3051;&#x66F8;&#x3044;&#x3066;&#x3042;&#x308B;&#x30E1;&#x30FC;&#x30EB;&#x3082;&#x3042;&#x308B;&#x3057;&#x3002;

&#x3042;&#x308C;&#x3001;&#x65E5;&#x3060;&#x3051;&#x306E;&#x5834;&#x5408;&#x3082; guess &#x3057;&#x306A;&#x3044;&#x3093;&#x3067;&#x3057;&#x305F;&#x3063;&#x3051;&#x3002;&#x65E5;&#x3060;&#x3051;&#x306E;&#x3068;&#x3001;
&#x300C;&#x6765;&#x9031;&#x306E;&#x91D1;&#x66DC;&#x65E5;&#x300D; &#x3082; guess &#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x3066;&#x307F;&#x307E;&#x3057;&#x3087;&#x3046;&#x3002;

&gt; (&#x300E;19.28 &#x306F; APEL required&#x300F;&#x304C;&#x3044;&#x3044;&#x306A;&#x3041;&#x3068;&#x611F;&#x3058;&#x3066;&#x3057;&#x307E;&#x3063;&#x305F;&#x306E;&#x306F;&#x5185;&#x7DD2;)

&#x3084;&#x3063;&#x3071;&#x308A; APEL &#x52C9;&#x5F37;&#x3057;&#x306A;&#x3044;&#x3068;&#x3060;&#x3081;&#x304B;&#x3002;

&gt; &#x4E43;&#x6751;&gt; C-uSPC &#x3067; region &#x90E8;&#x5206;&#x304C; Duration &#x3068;&#x3057;&#x3066;&#x5165;&#x308B;&#x306E;&#x306F;&#x3044;&#x3044;&#x3067;&#x3059;&#x306D;&#x3002;
&gt; 
&gt; &#x3067;&#x3057;&#x3087;&#x3046;&#x3001;&#x3067;&#x3057;&#x3087;&#x3046;&#x3002;(^^)

&#x6DFB;&#x4ED8;&#x306E;&#x30D1;&#x30C3;&#x30C1;&#x3067; Date: &#x306E;&#x5165;&#x529B;&#x306E;&#x6240;&#x306B;&#x3082;&#x3001;yyyy/mm/dd-yyyy/mm/dd &#x306A;
&#x5F62;&#x5F0F;&#x3092;&#x53D7;&#x3051;&#x4ED8;&#x3051;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x3066;&#x307F;&#x307E;&#x3057;&#x305F;&#x3002;3&#x65E5;&#x901A;&#x3057;&#x306E;&#x884C;&#x4E8B;&#x3068;&#x304B;&#x306E;&#x5165;&#x529B;&#x306B;
&#x4F7F;&#x3048;&#x308B;&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#x3002;
mhc-calendar &#x4F7F;&#x308F;&#x305A;&#x306B;&#x624B;&#x3067;&#x5165;&#x529B;&#x3059;&#x308B;&#x3068;&#x304D;&#x3082;&#x5B09;&#x3057;&#x3044;&#x306F;&#x305A;&#x3067;&#x3059;&#x3002;

&#x3082;&#x3061;&#x308D;&#x3093; yyyy/mm/dd &#x306E; dd &#x4EE5;&#x5916;&#x306F;&#x7701;&#x7565;&#x3067;&#x304D;&#x307E;&#x3059;&#x3002;

&gt; &#x300E;mhc-calendar &#x3067; 'v' &#x3059;&#x308B;&#x3068;&#x697D;&#x3057;&#x3044; (toggle)&#x300F;
&gt; &#x3092;&#x3057;&#x307E;&#x3057;&#x305F;&#x3002;&#x4F7F;&#x3063;&#x3066;&#x3084;&#x3063;&#x3066;&#x4E0B;&#x3055;&#x3044;&#x3002;

&#x3053;&#x308C;&#x3001;&#x3044;&#x3044;&#x3067;&#x3059;&#x306D;&#x3002;&#x3067;&#x304D;&#x305F;&#x3089;&#x3044;&#x3044;&#x306A;&#x3068;&#x601D;&#x3063;&#x3066;&#x305F;&#x3093;&#x3067;&#x3059;&#x3088;&#x3002;

&#x5225;&#x30D5;&#x30EC;&#x30FC;&#x30E0;&#x306B;&#x3057;&#x3066;&#x5E38;&#x306B;&#x7F6E;&#x3044;&#x3068;&#x304F;&#x3068;&#x3001;gemcal &#x306E;&#x4EE3;&#x66FF;&#x306B;&#x3082;&#x306A;&#x308A;&#x305D;&#x3046;&#x3002;
(&#x3068;&#x306A;&#x308B;&#x3068;&#x3001;&#x30DE;&#x30A6;&#x30B9;&#x306B;&#x53CD;&#x5FDC;&#x3057;&#x3066;&#x6B32;&#x3057;&#x3044;&#x3088;&#x306D;&#x3002;)

C-ce &#x306B;&#x76F8;&#x5F53;&#x3059;&#x308B;&#x90E8;&#x5206;&#x304C;&#x3042;&#x308C;&#x3070;&#x3001;&#x307B;&#x3068;&#x3093;&#x3069; mhc &#x306E;
&#x30A4;&#x30F3;&#x30BF;&#x30FC;&#x30D5;&#x30A7;&#x30FC;&#x30B9;&#x3068;&#x3057;&#x3066;&#x4F7F;&#x3048;&#x307E;&#x3059;&#x306D;&#x3002;

&gt; # &quot;Yet Another Human interface for MHC&quot; &#x3068;&#x3067;&#x3082;&#x540D;&#x4E57;&#x308D;&#x3046;&#x304B;&#x3057;&#x3089;&#x3093;&#x3002;

&#x3044;&#x3084;&#x3001;&#x6A19;&#x6E96;&#x306E; 1&#x3064;&#x306B;&#x3055;&#x305B;&#x3066;&#x4E0B;&#x3055;&#x3044;&#x3002;:-)
--
nom

Index: emacs/mhc-minibuf.el
===================================================================
RCS file: /u/nom/prj/cvsroot/mhc/emacs/mhc-minibuf.el,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -r1.7 -r1.8
--- mhc-minibuf.el      2000/02/09 08:43:13     1.7
+++ mhc-minibuf.el      2000/05/09 15:15:56     1.8
@@ -214,6 +214,19 @@
            error    nil)
       (while (car str-list)
        (cond
+        ((= 2 (length (mhc-misc-split (car str-list) &quot;-&quot;)))
+         (let* ((duration (mhc-misc-split (car str-list) &quot;-&quot;))
+                (b (ddate-new-from-string2 (nth 0  duration) nil t))
+                (e (ddate-new-from-string2 (nth 1  duration) b   t)))
+           (if (and b e (ddate&lt; b e))
+               (progn
+                 (setq date b)
+                 (while (ddate&lt;= date e)
+                   (if (not (member date ret))
+                       (setq ret (cons date ret))
+                     (setq error t))
+                   (setq date (ddate-inc date))))
+             (setq error t))))
         ((string= (car str-list) &quot;&quot;)
          ())
         ((setq date (ddate-new-from-string2
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00588" href="msg00588.html">[mhc:00589] Re: mhc-calendar.el</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00576" href="msg00576.html">[mhc:00577] mhc-calendar.el</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
<li><strong><a name="00577" href="msg00577.html">[mhc:00578] Re: mhc-calendar.el</a></strong>
<ul><li><em>From:</em> Yoshinari NOMURA</li></ul></li>
<li><strong><a name="00583" href="msg00583.html">[mhc:00584] Re: mhc-calendar.el</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00586.html">[mhc:00587] mhc-snap20000509-2 (Re:  mhc-snap20000509)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00588.html">[mhc:00589] Re: mhc-calendar.el</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00583.html">[mhc:00584] Re: mhc-calendar.el</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00588.html">[mhc:00589] Re: mhc-calendar.el</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00587"><strong>Date</strong></a></li>
<li><a href="threads.html#00587"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
