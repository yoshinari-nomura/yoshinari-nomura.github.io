<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:02175] bugfix mhc&#45;cvs/modify -->
<!--X-From-R13: YAWS Vvqrgnxn (=?vfb&#45;2022&#45;wc?P?UlDQAVS5BwTDFwCoYSW=?=) <uvqrNxbvr.bet> -->
<!--X-Date: Wed, 02 Nov 2005 19:43:21 +0900 (JST) -->
<!--X-Message-Id: 20051102.194321.193688071.koie@sakura.suri.co.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:02175] bugfix mhc-cvs/modify</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg02173.html">Date Prev</a>][<a href="msg02175.html">Date Next</a>][<a href="msg02173.html">Thread Prev</a>][<a href="msg02175.html">Thread Next</a>][<a href="maillist.html#02174">Date Index</a>][<a href="threads.html#02174">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:02175] bugfix mhc-cvs/modify</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:02175] bugfix mhc-cvs/modify</li>
<li><em>From</em>: KOIE Hidetaka (&#x9BC9;&#x6C5F;&#x82F1;&#x9686;) &lt;<a href="mailto:hide@DOMAIN.HIDDEN">hide@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 02 Nov 2005 19:43:21 +0900 (JST)</li>
<li><em>Delivered-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
<li><em>List-help</em>: &lt;<a href="mailto:mhc-ctl@quickhack.net?body=help">mailto:mhc-ctl@quickhack.net?body=help</a>&gt;</li>
<li><em>List-id</em>: mhc.quickhack.net</li>
<li><em>List-owner</em>: &lt;<a href="mailto:mhc-admin@quickhack.net">mailto:mhc-admin@quickhack.net</a>&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:mhc@quickhack.net">mailto:mhc@quickhack.net</a>&gt;</li>
<li><em>List-software</em>: fml [fml 4.0.3 release (20011202/4.0.3)]</li>
<li><em>List-unsubscribe</em>: &lt;<a href="mailto:mhc-ctl@quickhack.net?body=unsubscribe">mailto:mhc-ctl@quickhack.net?body=unsubscribe</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&#x4E88;&#x5B9A;&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#x3068;&#x304D;&#x306B;set-file-modes&#x304C;&#x30A8;&#x30E9;&#x30FC;&#x306B;&#x306A;&#x308B;&#x306E;&#x3067;
&#x4EE5;&#x4E0B;&#x306E;&#x3088;&#x3046;&#x306A;&#x4FEE;&#x6B63;&#x3067;&#x3069;&#x3046;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B;?

Index: mhc-cvs.el
===================================================================
RCS file: /cvsroot/mhc/emacs/mhc-cvs.el,v
retrieving revision 1.17
diff -u -F^(def -F^[_a-zA-Z] -r1.17 mhc-cvs.el
--- mhc-cvs.el	5 Oct 2005 05:26:57 -0000	1.17
+++ mhc-cvs.el	2 Nov 2005 10:40:29 -0000
@@ -294,7 +294,9 @@ (defun mhc-cvs/modify (filename &amp;optiona
       (prog1 (= 0 (mhc-cvs/backend
 		   (list &quot;commit&quot; &quot;-m&quot; &quot;&quot;
 			 (mhc-cvs/shrink-file-name filename))))
-	(set-file-modes filename (logior ?\200 (file-modes filename))))))
+        (let ((modes (file-modes filename)))
+          (when modes
+            (set-file-modes filename (logior ?\200 modes)))))))
 
 
 ;;; CVS Backend Function

--
KOIE Hidetaka &lt;hide@xxxxxxxx&gt;
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="02175" href="msg02175.html">[mhc:02176] Re: bugfix mhc-cvs/modify</a></strong>
<ul><li><em>From:</em> TSUCHIYA Masatoshi</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg02173.html">[mhc:02174] Re: network status change with Gnus</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg02175.html">[mhc:02176] Re: bugfix mhc-cvs/modify</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg02173.html">[mhc:02174] Re: network status change with Gnus</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg02175.html">[mhc:02176] Re: bugfix mhc-cvs/modify</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#02174"><strong>Date</strong></a></li>
<li><a href="threads.html#02174"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
