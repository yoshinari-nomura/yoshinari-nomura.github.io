<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:00255] sample mhc&#45;mode&#45;hook ^^;;; -->
<!--X-From-R13: Vvqrlhxv EVWDOW (=?vfb&#45;2022&#45;wc?P?UlDQD3WjLw0bAHCoYSW=?=) <fuvenvNeqzt.ztpf.zrv.pb.wc> -->
<!--X-Date: Wed, 1 Dec 1999 20:25:30 +0900 -->
<!--X-Message-Id: 19991201202432P.shirai@sugar.rdmg.mgcs.mei.co.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:00255] sample mhc-mode-hook ^^;;;</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00253.html">Date Prev</a>][<a href="msg00255.html">Date Next</a>][<a href="msg00253.html">Thread Prev</a>][<a href="msg00255.html">Thread Next</a>][<a href="maillist.html#00254">Date Index</a>][<a href="threads.html#00254">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:00255] sample mhc-mode-hook ^^;;;</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:00255] sample mhc-mode-hook ^^;;;</li>
<li><em>From</em>: Hideyuki SHIRAI (&#x767D;&#x4E95;&#x79C0;&#x884C;) &lt;<a href="mailto:shirai@DOMAIN.HIDDEN">shirai@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 1 Dec 1999 20:25:30 +0900</li>
<li><em>Posted</em>: Wed, 01 Dec 1999 20:24:32 +0900</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&#x4E43;&#x6751;&#x3055;&#x3093;&#x304C; mhc-mode-hook &#x3092;&#x63A1;&#x7528;&#x3057;&#x3066;&#x4E0B;&#x3055;&#x3063;&#x305F;&#x306E;&#x3067;&#x3001;&#x6628;&#x65E5;&#x306E;&#x51FA;&#x5F35;&#x306E;&#x65B0;
&#x5E79;&#x7DDA;&#x3067;&#x3072;&#x3068;&#x3064;&#x4F5C;&#x3063;&#x3066;&#x307F;&#x307E;&#x3057;&#x305F;&#x3002;

Emacs &#x6A19;&#x6E96;&#x306E; calendar &#x6A5F;&#x80FD;(M-x calendar) &#x3068; mhc &#x3092;&#x540C;&#x6642;&#x306B;&#x8868;&#x793A;&#x3059;&#x308B;
&#x3082;&#x306E;&#x3067;&#x3059;&#x3002;calendar &#x5074;&#x3092;&#x305D;&#x308C;&#x306A;&#x308A;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x3068;&#x3001;&#x8272;&#x304C;&#x3064;&#x3044;&#x305F;&#x308A;&#x3059;&#x308B;&#x306E;
&#x3067;&#x3001;3&#x30F5;&#x6708;&#x5206;&#x306E; calendar &#x304C;&#x8868;&#x793A;&#x3055;&#x308C;&#x308B;&#x306E;&#x3082;&#x7D50;&#x69CB;&#x4FBF;&#x5229;&#x306A;&#x3093;&#x3058;&#x3083;&#x306A;&#x3044;&#x304B;&#x3068;
&#x52DD;&#x624B;&#x306B;&#x601D;&#x3063;&#x3066;&#x3044;&#x307E;&#x3059;&#x3002;

mhc-mode &#x3067; &quot;C-ct&quot; &#x3067; calendar &#x306E;&#x8868;&#x793A;/&#x975E;&#x8868;&#x793A;&#x304C;&#x5207;&#x308A;&#x66FF;&#x308F;&#x308A;&#x307E;&#x3059;&#x3002;&#x6B8B;
&#x308A;&#x306F;&#x3001;Mew &#x304B;&#x3089; mhc &#x3092;&#x4F7F;&#x3063;&#x3066;&#x3044;&#x308B;&#x3068;&#x304D;&#x306B; *&#x3053;&#x3046;&#x3059;&#x308B;&#x3068;&#x4FBF;&#x5229;* &#x3068;&#x611F;&#x3058;&#x305F;
&#x3082;&#x306E;&#x3084;&#x3001;mhc &#x4EE5;&#x5916;&#x3067;&#x306F; calendar buffer &#x304C;&#x90AA;&#x9B54;&#x306A;&#x306E;&#x3067;&#x898B;&#x3048;&#x306A;&#x304F;&#x3057;&#x305F;&#x308A;
&#x3057;&#x3066;&#x3044;&#x307E;&#x3059;&#x3002;

&#x672C;&#x5F53;&#x306F;&#x3001;xcal &#x306E;&#x69D8;&#x306B; split-window-horizontally &#x3057;&#x3066;&#x7ACB;&#x3066;&#x578B;&#x3067;&#x8868;&#x793A;&#x3057;
&#x305F;&#x3044;&#x306E;&#x3067;&#x3059;&#x304C;&#x3001;(&#x500B;&#x4EBA;&#x7684;&#x306B;)todo &#x3067;&#x3059;&#x3002;

-- 
&#x767D;&#x4E95;&#x79C0;&#x884C;&#xFF20;&#x8208;&#x5473;&#x304C;&#x3042;&#x3063;&#x305F;&#x3089;&#x4F7F;&#x3063;&#x3066;&#x307F;&#x3066;&#x4E0B;&#x3055;&#x3044;&#x3002;

&#x4EE5;&#x4E0B;&#x3001;&#x7D9A;&#x304F;&#x3002;

;; mhc &#x3067; calendar &#x3092;&#x8868;&#x793A;&#x3059;&#x308B;&#x3002;~/.emacs &#x306B;&#x66F8;&#x3044;&#x3066;&#x306D;&#x3002;
(add-hook 'mhc-mode-hook
	  '(lambda ()
	     (define-key mhc-mode-map &quot;\C-ct&quot; 'mhc-toggle-show-calendar)
	     (if (equal mhc-mailer-package 'mew)
		 (progn (define-key mhc-mode-map &quot;g&quot; 'mhc-summary-goto-folder)
			(define-key mhc-mode-map &quot;i&quot; 'mhc-summary-get)
			(define-key mhc-mode-map &quot;\C-c\C-q&quot; 'mhc-kill-buffer)))
	     (mhc-show-calender)))

(defun mhc-toggle-show-calendar ()
  (interactive)
  (setq mhc-show-calendar (not mhc-show-calendar))
  (mhc-rescan-month))

(defun mhc-summary-goto-folder (&amp;optional arg)
  (interactive &quot;P&quot;)
  (mhc-calendar-delete-window)
  (mew-summary-goto-folder arg))

(defun mhc-summary-get (&amp;optional arg)
  (interactive &quot;P&quot;)
  (mhc-calendar-delete-window)
  (mew-summary-get arg))

(defun mhc-kill-buffer (&amp;optional buf)
  (interactive)
  (mhc-calendar-delete-window)
  (mew-kill-buffer buf))

(defvar mhc-show-calendar nil)
(defun mhc-show-calender ()
  ;; &#x304A;&#x7BC0;&#x4ECB;&#x958B;&#x59CB;
  (if (not (equal mhc-mailer-package 'mew))
      ()
    (and (mew-buffer-message)
	 (get-buffer-window (mew-buffer-message))
	 (window-live-p (get-buffer-window (mew-buffer-message)))
	 (delete-window (get-buffer-window (mew-buffer-message))))
    (and mew-summary-buffer-disp-msg
	 (mew-summary-toggle-disp-msg)))
  ;; &#x304A;&#x7BC0;&#x4ECB;&#x7D42;&#x4E86;
  (if (not mhc-show-calendar)
      (mhc-calendar-delete-window)
    (let ((fld (buffer-name))
	  (redisp t)
	  year month)
      (if (not (string-match &quot;^[^/]*/\\([12][0-9][0-9][0-9]\\)/\\([0-9][0-9]\\)$&quot;
			     fld))
	  ()
	(setq year (string-to-number
		    (substring fld (match-beginning 1) (match-end 1))))
	(setq month (string-to-number
		     (substring fld (match-beginning 2) (match-end 2))))
	(save-excursion
	  (require 'calendar)
	  (if (not (get-buffer calendar-buffer))
	      (let* ((cdate (ddate-now))
		     (cyear (car cdate))
		     (cmonth (nth 1 cdate)))
		(if (fboundp 'calendar-basic-setup)
		    (calendar-basic-setup)
		  (calendar))
		(and (equal mhc-mailer-package 'mew)
		     (mew-buffers-setup calendar-buffer))
		(and (= cyear year) (= cmonth month)
		     (setq redisp nil))))
	  (set-buffer (get-buffer calendar-buffer))
	  (pop-to-buffer (current-buffer))
	  (and redisp
	       (generate-calendar-window month year))
	  (bury-buffer (current-buffer)))
	(pop-to-buffer fld)))))

(defun mhc-calendar-delete-window ()
  (and mhc-mode
       (boundp 'calendar-buffer)
       (get-buffer-window calendar-buffer)
       (window-live-p (get-buffer-window calendar-buffer))
       (delete-window (get-buffer-window calendar-buffer))))

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00255" href="msg00255.html">[mhc:00256] Re: sample mhc-mode-hook ^^;;;</a></strong>
<ul><li><em>From:</em> Yoshinari NOMURA</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00253.html">[mhc:00254] Re: mhc on wl (experimental support)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00255.html">[mhc:00256] Re: sample mhc-mode-hook ^^;;;</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00253.html">[mhc:00254] Re: mhc on wl (experimental support)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00255.html">[mhc:00256] Re: sample mhc-mode-hook ^^;;;</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00254"><strong>Date</strong></a></li>
<li><a href="threads.html#00254"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
