<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:00550] mhc&#45;snap20000427.tar.gz -->
<!--X-From-R13: Kbfuvanev @A[GDO <abzNpfpr.xlhfuh&#45;h.np.wc> -->
<!--X-Date: Thu, 27 Apr 2000 02:55:31 +0900 -->
<!--X-Message-Id: 20000427025529T.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:00550] mhc-snap20000427.tar.gz</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00548.html">Date Prev</a>][<a href="msg00550.html">Date Next</a>][<a href="msg00552.html">Thread Prev</a>][<a href="msg00550.html">Thread Next</a>][<a href="maillist.html#00549">Date Index</a>][<a href="threads.html#00549">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:00550] mhc-snap20000427.tar.gz</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:00550] mhc-snap20000427.tar.gz</li>
<li><em>From</em>: Yoshinari NOMURA &lt;<a href="mailto:nom@DOMAIN.HIDDEN">nom@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 27 Apr 2000 02:55:31 +0900</li>
<li><em>Posted</em>: Thu, 27 Apr 2000 02:55:29 +0900</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&#x4E43;&#x6751;&#x3067;&#x3059;&#x3002;&#x4E45;&#x3005;&#x306E; snap &#x3067;&#x3059;&#x3002;
&#x7720;&#x3044;&#x76EE;&#x3092;&#x64E6;&#x308A;&#x306A;&#x304C;&#x3089;&#x3084;&#x3063;&#x3066;&#x308B;&#x306E;&#x3067;&#x3001;&#x5C11;&#x3005;&#x4E0D;&#x5B89;&#x3067;&#x3059;&#x304C;&#x3001;

  <a  rel="nofollow" href="http://www.swlab.csce.kyushu-u.ac.jp/~nom/prj/mhc/mhc-snap20000427.tar.gz">http://www.swlab.csce.kyushu-u.ac.jp/~nom/prj/mhc/mhc-snap20000427.tar.gz</a>

&#x304B;&#x3089;&#x3069;&#x3046;&#x305E;&#x3002;

* mhc-snap20000427 (2000-04-27)

&#x30FB; mhc*.el
   + minor-mode convention &#x306B;&#x9055;&#x53CD;&#x3057;&#x3066;&#x3044;&#x308B;&#x30AD;&#x30FC;&#x30D0;&#x30A4;&#x30F3;&#x30C9; 
     C-c&gt; &#x3068; C-c&lt; &#x3092; C-cn &#x3068; C-cp &#x306B;&#x5909;&#x66F4;&#x3002;
   + mew &#x5BFE;&#x5FDC;&#x3067;&#x30D8;&#x30C3;&#x30C0;&#x30C7;&#x30B3;&#x30FC;&#x30C9;&#x7B49;&#x306E;&#x5F37;&#x5316;
     (add-hook 'mew-message-hook      'mhc-misc-hdr-decode)
     &#x304C; .emacs &#x306B;&#x5FC5;&#x8981;&#x306B; (mhc.el &#x4E2D;&#x306E;&#x30B3;&#x30E1;&#x30F3;&#x30C8;&#x53C2;&#x7167;)

     Hideyuki SHIRAI (&#x767D;&#x4E95;&#x79C0;&#x884C;) &lt;shirai@xxxxxxxxxxxxxxxxxxx&gt;
     (And thanks to Mr. Shun-ichi Goto &lt;gotoh@xxxxxxxxxxx&gt;)

   + Gnus &#x30B5;&#x30DD;&#x30FC;&#x30C8;&#x306E;&#x5F37;&#x5316;
     TSUCHIYA Masatoshi &lt;tsuchiya@xxxxxxxxxxxxxxxxxxxxxxx&gt;
     MIYOSHI Masanori &lt;miyoshi@xxxxxxxxx&gt;
   + &#x4E00;&#x90E8;&#x5909;&#x6570;&#x306E; defcustom &#x5316;
     TSUCHIYA Masatoshi &lt;tsuchiya@xxxxxxxxxxxxxxxxxxxxxxx&gt;
   + mhc-import &#x306E; MUA &#x3068;&#x306E;&#x9023;&#x643A;&#x5F37;&#x5316;
     teranisi@xxxxxxxxxx (Yuuichi Teranishi/&#x5BFA;&#x897F;&#x88D5;&#x4E00;)
   + mew &#x5411;&#x3051;&#x306E;&#x306E;&#x8A2D;&#x5B9A;&#x65B9;&#x6CD5;&#x3092;&#x5C11;&#x3057;&#x5909;&#x66F4; 

&#x30FB; &#x30C7;&#x30FC;&#x30BF;&#x30D9;&#x30FC;&#x30B9;&#x306E;&#x30C8;&#x30E9;&#x30F3;&#x30B6;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x30ED;&#x30B0;&#x3092;&#x53D6;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x305F;&#x3002;
&#x30FB; Ruby &#x5074;&#x306E;&#x30E9;&#x30A4;&#x30D6;&#x30E9;&#x30EA;&#x3092; mhc &#x76F8;&#x5F53;&#x306B; (Record-Id &#x7B49;&#x306E;&#x6574;&#x5099;)
&#x30FB; Note PC &#x3068; sync &#x3092;&#x884C;&#x3046;&#x305F;&#x3081;&#x306E; mhc-sync &#x3092;&#x5B9F;&#x9A13;&#x7684;&#x306B;&#x8FFD;&#x52A0;
&#x30FB; palm2mhc &#x306B; interactive option -i &#x3092;&#x8FFD;&#x52A0;


&#x6CE8;&#x610F;&#x3059;&#x3079;&#x304D;&#x5909;&#x66F4;&#x306F;&#x3001;C-c&gt; &#x3068; C-c&lt; &#x3092; C-cn &#x3068; C-cp &#x306B;&#x5909;&#x66F4;&#x3057;&#x305F;&#x3053;&#x3068;&#x3068;&#x3001;
Mew &#x30E6;&#x30FC;&#x30B6;&#x306F; (add-hook 'mew-message-hook 'mhc-misc-hdr-decode)
&#x3092;&#x52A0;&#x3048;&#x308B;&#x3068;&#x5E78;&#x305B;&#x306B;&#x306A;&#x308C;&#x308B;&#x3068;&#x3044;&#x3046;&#x6240;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B;&#x3002;

Gnus &#x306E;&#x30D1;&#x30C3;&#x30C1;&#x3092;&#x3061;&#x3083;&#x3093;&#x3068;&#x53D6;&#x308A;&#x8FBC;&#x3081;&#x3066;&#x3044;&#x308B;&#x304B;&#x5FC3;&#x914D;&#x3067;&#x3059;&#x3002;

ruby+ssh &#x3067; Note PC &#x3068; sync &#x3059;&#x308B;&#x305F;&#x3081;&#x306E; script mhc-sync &#x3092;
&#x5B9F;&#x9A13;&#x7684;&#x306B;&#x52A0;&#x3048;&#x307E;&#x3057;&#x305F;&#x3002;&#x4F7F;&#x3044;&#x65B9;&#x3067;&#x3059;&#x304C;&#x3001;

0. notepc, server &#x306E; 2&#x53F0;&#x306E;&#x30DE;&#x30B7;&#x30F3;&#x304C;&#x3042;&#x308B;&#x3068;&#x3057;&#x307E;&#x3059;&#x3002;&#x53CC;&#x65B9;&#x3067;
   mhc-sync, ssh &#x304C;&#x4F7F;&#x3048;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x3066;&#x304A;&#x304D;&#x307E;&#x3059;&#x3002;
   ruby-ext/lib &#x3082;&#x30A4;&#x30F3;&#x30B9;&#x30C8;&#x30FC;&#x30EB;&#x3057;&#x307E;&#x3057;&#x3087;&#x3046;&#x3002;

1. &#x6700;&#x521D;&#x306E;&#x6642;&#x70B9;&#x3067; +schedule &#x4EE5;&#x4E0B;&#x306F;&#x307E;&#x3063;&#x305F;&#x304F;&#x540C;&#x3058;&#x306B;&#x3057;&#x3066;&#x304A;&#x304D;&#x307E;&#x3059;&#x3002;
   &#x4F8B;&#x3048;&#x3070;&#x3001;notepc &#x3067; rsync &#x3092;&#x4F7F;&#x3063;&#x3066;&#x3001;

    rsync -a --delete server:/home/nom/Mail/schedule/ /home/nom/Mail/schedule

    &#x306E;&#x3088;&#x3046;&#x306B;&#x3057;&#x3066;&#x304A;&#x304D;&#x307E;&#x3059;&#x3002;

2. notepc, server &#x3067;&#x3044;&#x3064;&#x3082;&#x901A;&#x308A;&#x306E;&#x64CD;&#x4F5C;&#x3092;&#x3057;&#x307E;&#x3059;&#x3002;
   C-cm &#x3057;&#x305F;&#x5F8C;&#x306B;&#x3001;C-cC-c &#x3067; finish &#x3059;&#x308B;&#x306E;&#x3092;&#x5FD8;&#x308C;&#x306A;&#x3044;&#x3067;&#x4E0B;&#x3055;&#x3044;&#x3002;
   (C-xC-s &#x3057;&#x3066;&#x30BB;&#x30FC;&#x30D6;&#x3057;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;)

3. &#x3069;&#x3061;&#x3089;&#x304B;&#x4E00;&#x65B9;&#x306E;&#x30DB;&#x30B9;&#x30C8;&#x3067;&#x3001;(&#x305F;&#x3068;&#x3048;&#x3070; notepc) 

     mhc-sync -client sync_id@xxxxxxxxxxxxxxxx

    &#x306E;&#x3088;&#x3046;&#x306B;&#x5B9F;&#x884C;&#x3059;&#x308B;&#x3068;&#x3001;sync &#x304C;&#x884C;&#x308F;&#x308C;&#x307E;&#x3059;&#x3002;

    sync_id &#x3068;&#x3044;&#x3046;&#x306E;&#x306F;&#x3001;2&#x53F0;&#x306E;&#x9593;&#x3067; sync &#x5C65;&#x6B74;&#x3092;&#x7BA1;&#x7406;&#x3059;&#x308B;&#x305F;&#x3081;&#x306E;
    &#x8B58;&#x5225;&#x540D;(&#x5408;&#x8A00;&#x8449;) &#x3067;&#x3059;&#x3002;&#x4F55;&#x3067;&#x3082;&#x3044;&#x3044;&#x3067;&#x3059;&#x304C;&#x3001;&#x540C;&#x3058; 2&#x53F0;&#x306E;&#x7D44;&#x307F;&#x5408;&#x308F;&#x305B;
    &#x3067; sync &#x3059;&#x308B;&#x3068;&#x304D;&#x306F;&#x3001;&#x5E38;&#x306B;&#x540C;&#x3058;&#x3067;&#x306A;&#x3044;&#x3068;&#x3044;&#x3051;&#x307E;&#x305B;&#x3093;&#x3002;

    &#x4F55;&#x304C;&#x8D77;&#x3053;&#x308B;&#x304B;&#x3060;&#x3051;&#x3092;&#x898B;&#x305F;&#x3044;&#x5834;&#x5408;&#x306F;&#x3001;mhc-sync &#x4E2D;&#x306E; $DRY_RUN &#x3092;
    true &#x306B;&#x3057;&#x3066;&#x5B9F;&#x884C;&#x3057;&#x3066;&#x307F;&#x3066;&#x4E0B;&#x3055;&#x3044;&#x3002;

&#x30FB; &#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x304C; $HOME/Mail/schedule &#x306B;&#x56FA;&#x5B9A;&#x3067;&#x3059;&#x3002;
&#x30FB; &#x5F15;&#x6570;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x3092;&#x3042;&#x307E;&#x308A;&#x771F;&#x9762;&#x76EE;&#x306B;&#x3084;&#x3063;&#x3066;&#x3044;&#x307E;&#x305B;&#x3093;&#x3002;
&#x30FB; Windows &#x3067;&#x3046;&#x307E;&#x304F;&#x5B9F;&#x884C;&#x3067;&#x304D;&#x308B;&#x304B;&#x306F;&#x4E0D;&#x660E;&#x3067;&#x3059;&#x3002;glob &#x95A2;&#x4FC2;&#x3067; 
   [0-9]*/[0-9]* &#x3068;&#x304B;&#x3084;&#x3063;&#x3066;&#x308B;&#x6240;&#x304C;&#x591A;&#x5206;&#x602A;&#x3057;&#x3044;&#x3002;

&#x3042;&#x3001;&#x53E4;&#x3044; mhc &#x3067;&#x4F5C;&#x3063;&#x305F;&#x30A2;&#x30FC;&#x30C6;&#x30A3;&#x30AF;&#x30EB;&#x306B;&#x306F;&#x3001;X-SC-Record-Id &#x304C;&#x306A;&#x3044;&#x3082;&#x306E;
&#x304C;&#x3042;&#x308A;&#x307E;&#x3059;&#x306E;&#x3067;&#x3001;rsync &#x3059;&#x308B;&#x524D;&#x306B;&#x5168;&#x90E8;&#x306B;&#x4ED8;&#x3051;&#x3066;&#x304A;&#x304D;&#x307E;&#x3057;&#x3087;&#x3046;&#x3002;

&#x4EE5;&#x4E0B;&#x306E;&#x30B3;&#x30DE;&#x30F3;&#x30C9; create_message_id &#x3067;&#x3001;
create_message_id ~/Mail/schedule/[0-9]*/[0-9]*/[0-9]*
&#x3068;&#x304B;&#x3084;&#x308B;&#x3068;&#x4ED8;&#x304D;&#x307E;&#x3059;&#x3002;intersect &#x3082;&#x5FD8;&#x308C;&#x305A;&#x306B;&#x3002;

&#x6050;&#x3044;&#x304B;&#x3089;&#x3001;&#x904A;&#x3076;&#x524D;&#x306B;&#x30D0;&#x30C3;&#x30AF;&#x30A2;&#x30C3;&#x30D7;&#x306F;&#x53D6;&#x308A;&#x307E;&#x3057;&#x3087;&#x3046;&#x3002;
--
nom

#!/usr/local/bin/ruby

$last_mid_rand = 'AAAA'
$last_mid_time = nil
$i = 0

$DOMAIN = 'set_your_domain'

def create_message_id(domain = $DOMAIN)
  mid_time = Time .now .strftime(&quot;%Y%m%d%H%M%S&quot;)
  mid_user = Process .uid .to_s

  if $last_mid_time &amp;&amp; mid_time == $last_mid_time
    $i += 1
    $last_mid_rand .succ!
    mid_rand = $last_mid_rand
  else
    $last_mid_rand = 'AAAA'
    mid_rand = $last_mid_rand
    $i = 0
  end

  mid_rand += '-' + $$ .to_s
  $last_mid_time = mid_time
  return '&lt;' + mid_time + mid_rand + '.' + mid_user + '@' + domain + '&gt;'
end


while path = ARGV .shift
  file = File .open(path)
  contents = file .gets(nil)
  file .close

  if contents =~ /X-SC-Record-Id:/
    print &quot;#{path} has X-SC-Record-Id: ignored.\n&quot;

  else
    print &quot;add  X-SC-Record-Id: to #{path}.\n&quot;

    contents .sub!(/^/np, &quot;X-SC-Record-Id: &quot; +
		   create_message_id() + &quot;\n&quot;)
    ##  contents .sub!(/\n\n/np, &quot;\nX-SC-Record-Id: &quot; +
    ##		 create_message_id() + &quot;\n\n&quot;)

    file = File .open(path, &quot;w&quot;)
    file &lt;&lt; contents
    file .close
  end
end


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00550" href="msg00550.html">[mhc:00551] Re: mhc-snap20000427.tar.gz</a></strong>
<ul><li><em>From:</em> MIYOSHI Masanori</li></ul></li>
<li><strong><a name="00551" href="msg00551.html">[mhc:00552] Synchronization ( Re: mhc-snap20000427.tar.gz )</a></strong>
<ul><li><em>From:</em> TSUCHIYA Masatoshi</li></ul></li>
<li><strong><a name="00562" href="msg00562.html">[mhc:00563] Re: mhc-snap20000427.tar.gz</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00548.html">[mhc:00549] Re: prepareing 0.25</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00550.html">[mhc:00551] Re: mhc-snap20000427.tar.gz</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00552.html">[mhc:00553] Re: prepareing 0.25</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00550.html">[mhc:00551] Re: mhc-snap20000427.tar.gz</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00549"><strong>Date</strong></a></li>
<li><a href="threads.html#00549"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
