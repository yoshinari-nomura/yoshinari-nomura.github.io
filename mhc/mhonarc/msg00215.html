<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:00216] Re: 0.23&#45;appha -->
<!--X-From-R13: AVODO Euvtrxv <bfNvvw.nq.wc> -->
<!--X-Date: Fri, 12 Nov 1999 20:54:19 +0900 -->
<!--X-Message-Id: 19991112205319J.os@iij.ad.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 19991109234148C.os@iij.ad.jp -->
<!--X-Reference: 19991110133437P.shirai@sugar.rdmg.mgcs.mei.co.jp -->
<!--X-Reference: 19991110143220J.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:00216] Re: 0.23-appha</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00214.html">Date Prev</a>][<a href="msg00216.html">Date Next</a>][<a href="msg00213.html">Thread Prev</a>][<a href="msg00212.html">Thread Next</a>][<a href="maillist.html#00215">Date Index</a>][<a href="threads.html#00215">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:00216] Re: 0.23-appha</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:00216] Re: 0.23-appha</li>
<li><em>From</em>: OHARA Shigeki &lt;<a href="mailto:os@DOMAIN.HIDDEN">os@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 12 Nov 1999 20:54:19 +0900</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:19991110143220J.nom@DOMAIN.HIDDEN">19991110143220J.nom@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Posted</em>: Fri, 12 Nov 1999 20:53:19 +0900</li>
<li><em>References</em>: &lt;<a href="mailto:19991109234148C.os@DOMAIN.HIDDEN">19991109234148C.os@xxxxxxxxx</a>&gt;	&lt;<a href="mailto:19991110133437P.shirai@DOMAIN.HIDDEN">19991110133437P.shirai@xxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:19991110143220J.nom@DOMAIN.HIDDEN">19991110143220J.nom@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&#x5927;&#x539F;&#x3067;&#x3059;&#x3002;

nom@xxxxxxxxxxxxxxxxxxx (Yoshinari NOMURA) &#x3055;&#x3093;&#x306E;&#x3001;
&quot;Wed, 10 Nov 1999 14:32:23 +0900&quot; &#x306B;&#x3060;&#x3057;&#x305F;&#x3001;
&#x300C;[mhc:00214] Re: 0.23-appha&#x300D;&#x3068;&#x3044;&#x3046;&#x30E1;&#x30FC;&#x30EB;&#x306B;&#x3066;&#x2026;&#x2026; :

&gt; &#x632F;&#x308A;&#x66FF;&#x3048;&#x4F11;&#x65E5;&#x306E;&#x5B9A;&#x7FA9;&#x3063;&#x3066;&#x3001;&#x3084;&#x3063;&#x3071;&#x308A;&#x65E5;&#x66DC;&#x65E5;&#x304C;&#x796D;&#x65E5;&#x3060;&#x3063;&#x305F;&#x3089;&#x305D;&#x306E;&#x6B21;&#x306E;&#x6708;&#x66DC;
&gt; &#x65E5;&#x306A;&#x306E;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B;&#x3002;&#x305D;&#x306E;&#x6708;&#x66DC;&#x65E5;&#x3082;&#x796D;&#x65E5;&#x3060;&#x3063;&#x305F;&#x3089;&#x3069;&#x3046;&#x306A;&#x308B;&#x3093;&#x3067;&#x3057;&#x3087;&#x3046;&#x3002;

&#x516D;&#x6CD5;&#x3092;&#x3072;&#x3082;&#x3068;&#x3044;&#x3066;&#x307F;&#x308B;&#x3068;&#x3001;

&gt; &#x56FD;&#x6C11;&#x306E;&#x795D;&#x65E5;&#x306B;&#x95A2;&#x3059;&#x308B;&#x6CD5;&#x5F8B;
&gt; 
&gt; &#x7B2C;&#x4E09;&#x6761;
&gt; (1) &#x300C;&#x56FD;&#x6C11;&#x306E;&#x795D;&#x65E5;&#x300D;&#x306F;&#x3001;&#x4F11;&#x65E5;&#x3068;&#x3059;&#x308B;&#x3002;
&gt; (2) &#x300C;&#x56FD;&#x6C11;&#x306E;&#x795D;&#x65E5;&#x300D;&#x304C;&#x65E5;&#x66DC;&#x65E5;&#x306B;&#x3042;&#x305F;&#x308B;&#x3068;&#x304D;&#x306F;&#x3001;&#x305D;&#x306E;&#x7FCC;&#x65E5;&#x3092;&#x4F11;&#x65E5;&#x3068;&#x3059;&#x308B;&#x3002;
&gt; (3) &#x305D;&#x306E;&#x524D;&#x65E5;&#x53CA;&#x3073;&#x7FCC;&#x65E5;&#x304C;&#x300C;&#x56FD;&#x6C11;&#x306E;&#x795D;&#x65E5;&#x300D;&#x3067;&#x3042;&#x308B;&#x65E5;
&gt;     (&#x65E5;&#x66DC;&#x65E5;&#x306B;&#x3042;&#x305F;&#x308B;&#x65E5;&#x53CA;&#x3073;&#x524D;&#x9805;&#x306B;&#x898F;&#x5B9A;&#x3059;&#x308B;&#x4F11;&#x65E5;&#x306B;&#x3042;&#x305F;&#x308B;&#x65E5;&#x3092;&#x9664;&#x304F;&#x3002;) &#x306F;&#x3001;
&gt;     &#x4F11;&#x65E5;&#x3068;&#x3059;&#x308B;&#x3002;

&#x3068;&#x306A;&#x3063;&#x3066;&#x3044;&#x307E;&#x3059;&#x3002;
&#xFF03;&#x300C;&#x795D;&#x65E5;&#x300D;&#x3068;&#x300C;&#x4F11;&#x65E5;&#x300D;&#x306F;&#x9055;&#x3046;&#x3001;&#x3063;&#x3066;&#x3053;&#x3068;&#x3067;&#x3059;&#x306D;&#x3002;

&#x3082;&#x3057;&#x3082;&#x3001;&#x65E5;&#x66DC;&#x65E5;&#x304C;&#x795D;&#x65E5;&#x3067;&#x3001;&#x305D;&#x306E;&#x632F;&#x66FF;&#x4F11;&#x65E5;&#x306E;&#x6708;&#x66DC;&#x65E5;&#x3082;&#x795D;&#x65E5;&#x3060;&#x3068;&#x3057;&#x305F;&#x3089;&#x3001;
&#x524D;&#x8005;&#x306E;&#x795D;&#x65E5;&#x306E;&#x632F;&#x66FF;&#x4F11;&#x65E5;&#x306F;&#x306A;&#x304F;&#x306A;&#x3063;&#x3061;&#x3083;&#x3046;&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#x3002;
&#xFF03;&#x300C;&#x795D;&#x65E5;&#x300D;&#x306B;&#x306F;&#x632F;&#x66FF;&#x306F;&#x3042;&#x308B;&#x3051;&#x3069;&#x3001;&#x300C;&#x632F;&#x66FF; *&#x4F11;&#x65E5;*&#x300D;&#x306E;&#x632F;&#x66FF;&#x306F;&#x306A;&#x3044;&#xFF1F;

&#xFF03; &#x305D;&#x3046;&#x3044;&#x3048;&#x3070;&#x3001;5/4 &#x304C;&#x65E5;&#x66DC;&#x65E5;&#x3060;&#x3063;&#x305F;&#x3053;&#x3068;&#x3082;&#x3042;&#x308A;&#x307E;&#x3057;&#x305F;&#x306D;&#x3002;

&#x3066;&#x3044;&#x3046;&#x304B;&#x3001;&#x3053;&#x308C;&#x306F;&#x61B6;&#x6E2C;&#x3067;&#x3059;&#x304C;&#x3001;&#x3053;&#x3046;&#x3044;&#x3046;&#x3053;&#x3068;&#x304C;&#x8D77;&#x3053;&#x3089;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#x3001;
&#x795D;&#x65E5;&#x304C;&#x9023;&#x7D9A;&#x3059;&#x308B;&#x3053;&#x3068;&#x304C;&#x306A;&#x3044;&#x3088;&#x3046;&#x306B;&#x795D;&#x65E5;&#x3092;&#x5236;&#x5B9A;&#x3057;&#x3066;&#x3044;&#x308B;&#x3093;&#x3067;&#x306F;&#x306A;&#x3044;&#x304B;&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#x3002;


nom@xxxxxxxxxxxxxxxxxxx (Yoshinari NOMURA) &#x3055;&#x3093;&#x306E;&#x3001;
&quot;Fri, 12 Nov 1999 19:53:09 +0900&quot; &#x306B;&#x3060;&#x3057;&#x305F;&#x3001;
&#x300C;[mhc:00215] snap19991111&#x300D;&#x3068;&#x3044;&#x3046;&#x30E1;&#x30FC;&#x30EB;&#x306B;&#x3066;&#x2026;&#x2026; :

&gt; &#x30FB;today &#x3092; ruby &#x3067;&#x66F8;&#x63DB;&#x3048;&#x3002;&#x4EE5;&#x524D;&#x306E;&#x7269;&#x306F; today.pl &#x306B;&#x6539;&#x540D;&#x3002;
&gt;   imput &#x3092;&#x4F7F;&#x3044;&#x307E;&#x3059;&#x3002;&#x3067;&#x304D;&#x308C;&#x3070; ruby &#x3067;&#x5B8C;&#x7D50;&#x3055;&#x305B;&#x305F;&#x3044;&#x6240;&#x3002;

&#x5B8C;&#x7D50;&#x3055;&#x305B;&#x305F;&#x3044;&#x3067;&#x3059;&#x306D;&#x3047;&#x2026;&#x2026;&#x3002;


--- today.rb	Fri Nov 12 20:11:15 1999
+++ today	Fri Nov 12 20:46:21 1999
@@ -15,11 +15,14 @@
 ##
 
 $DEBUG2       = false
-$IMPUT        = 'imput'
 $KANJI_KCODE  = 'euc'  ## 'jis' or 'euc' or 'sjis'
 
+MailServer    = 'localhost'  ## for --mail option
+MyHostName    = 'localhost'  ## for --mail option
+
 require 'mhc-schedule'
 require 'kconv'
+require 'net/smtp'
 
 class String
   def kconv(code = 'jis')
@@ -184,9 +187,10 @@
   contents  = get_schedule(db, date_from, date_to, category, formatter)
 
   if contents &amp;&amp; contents != ''
-    imput = IO .popen(&quot;#{$IMPUT} #{mail_address}&quot;, &quot;w&quot;)
-    imput .print((header + contents) .kconv('jis'))
-    imput .close
+    message = (header + contents).kconv('jis')
+    Net::SMTPSession.start(MailServer, 25, MyHostName) { |server|
+      server.sendmail(message, mail_address, [mail_address])
+    }
   end
 else
   print get_schedule(db, date_from, date_to, category, formatter) \


&#x5B8C;&#x7D50;&#x3055;&#x305B;&#x307E;&#x3057;&#x305F;&#x3002;

----
OHARA Shigeki (&#x5927;&#x539F;&#x91CD;&#x6A39;) &lt;os@xxxxxxxxx&gt;
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00210" href="msg00210.html">[mhc:00211] Re: 0.23-appha</a></strong>
<ul><li><em>From:</em> OHARA Shigeki</li></ul></li>
<li><strong><a name="00211" href="msg00211.html">[mhc:00212] Re: 0.23-appha</a></strong>
<ul><li><em>From:</em> &#x767D;&#x4E95;&#x79C0;&#x884C;</li></ul></li>
<li><strong><a name="00213" href="msg00213.html">[mhc:00214] Re: 0.23-appha</a></strong>
<ul><li><em>From:</em> Yoshinari NOMURA</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00214.html">[mhc:00215] snap19991111</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00216.html">[mhc:00217] porting to Wanderlust? ... also libical</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00213.html">[mhc:00214] Re: 0.23-appha</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00212.html">[mhc:00213] snap 19991110</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00215"><strong>Date</strong></a></li>
<li><a href="threads.html#00215"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
