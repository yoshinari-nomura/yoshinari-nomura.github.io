<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:01669] Re: MHC on Zaurus -->
<!--X-From-R13: Kbfuvanev @bzhen <abzNdhvpxunpx.arg> -->
<!--X-Date: Sat, 28 Sep 2002 18:27:55 +0900 -->
<!--X-Message-Id: 20020928182755Z.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20020927114224P.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Reference: 200209270446.NAA26741@list.daionet.gr.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:01669] Re: MHC on Zaurus</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01667.html">Date Prev</a>][<a href="msg01669.html">Date Next</a>][<a href="msg01667.html">Thread Prev</a>][<a href="msg01669.html">Thread Next</a>][<a href="maillist.html#01668">Date Index</a>][<a href="threads.html#01668">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:01669] Re: MHC on Zaurus</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:01669] Re: MHC on Zaurus</li>
<li><em>From</em>: Yoshinari Nomura &lt;<a href="mailto:nom@DOMAIN.HIDDEN">nom@xxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 28 Sep 2002 18:27:55 +0900</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:200209270446.NAA26741@DOMAIN.HIDDEN">200209270446.NAA26741@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:20020927114224P.nom@DOMAIN.HIDDEN">20020927114224P.nom@xxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:200209270446.NAA26741@DOMAIN.HIDDEN">200209270446.NAA26741@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
<li><em>Sender</em>: Yoshinari Nomura &lt;<a href="mailto:nom@DOMAIN.HIDDEN">nom@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&#x4E43;&#x6751;&#x3067;&#x3059;&#xFF0E;

On Fri, 27 Sep 2002 13:45:35 JST,
	knok@xxxxxxxxxxxxx (NOKUBI Takatsugu) said:

&gt;   &#x91CE;&#x9996;&#x3067;&#x3059;&#x3002;&#x3053;&#x3061;&#x3089;&#x3067;&#x306F;&#x521D;&#x3081;&#x307E;&#x3057;&#x3066;&#x3002;

&#x3069;&#x3046;&#x3082;&#xFF0E;&#x306F;&#x3058;&#x3081;&#x307E;&#x3057;&#x3066;&#xFF0E;&#x67D0;&#x6240;&#x3067;&#x306F;&#xFF0C;&#x304A;&#x4E16;&#x8A71;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x307E;&#x3059;&#xFF0E;
# &#x6A5F;&#x4F1A;&#x304C;&#x3042;&#x308C;&#x3070;&#xFF0C;&#x4E00;&#x5EA6;&#x304A;&#x76EE;&#x306B;&#x304B;&#x304B;&#x308A;&#x305F;&#x3044;&#x3067;&#x3059;&#xFF0E;

&gt; &#x79C1;&#x3082;&#x6628;&#x65E5;&#x3061;&#x3087;&#x3063;&#x3068; Zaurus &#x306E; datebook.xml &#x3092;&#x751F;&#x6210;&#x3055;&#x305B;&#x3066;&#x307F;&#x3088;&#x3046;&#x3068;&#x3044;&#x308D;&#x3044;&#x308D;
&gt; &#x3084;&#x3063;&#x3066;&#x307E;&#x3057;&#x305F;&#x3002;&#x7D50;&#x5C40;&#x6210;&#x529F;&#x3057;&#x3066;&#x3044;&#x307E;&#x305B;&#x3093;&#x304C;...

&#x4E00;&#x5FDC;&#xFF0C;&#x9014;&#x4E2D;&#x307E;&#x3067;&#x4F5C;&#x3063;&#x305F;&#x3082;&#x306E;&#x3092;&#x4E0B;&#x306B;&#x4ED8;&#x3051;&#x3066;&#x304A;&#x304D;&#x307E;&#x3059;&#xFF0E;
&#x7E70;&#x308A;&#x8FD4;&#x3057;&#x3058;&#x3083;&#x306A;&#x3044;&#x666E;&#x901A;&#x306E;&#x30B9;&#x30B1;&#x30B8;&#x30E5;&#x30FC;&#x30EB;&#x306A;&#x3089;&#xFF0C;&#x3053;&#x306E;&#x307E;&#x307E;&#x4F7F;&#x3048;&#x308B;&#x3068;&#x601D;&#x3044;&#x307E;&#x3059;&#xFF0E;
ujis &#x3067;&#x5410;&#x304F;&#x306E;&#x3067;&#xFF0C;

  this-script | iconv -f EUC-JP -t UTF-8 &gt; datebook.xml

&#x3057;&#x3066;&#x3042;&#x3052;&#x3066;&#x4E0B;&#x3055;&#x3044;&#xFF0E;

&#x7E70;&#x308A;&#x8FD4;&#x3057;&#x306E;&#x51E6;&#x7406;&#x306F;&#xFF0C;mhc-schedule.rb &#x4E2D;&#x306E; to_palm &#x3092;&#x304B;&#x3089;&#x4F5C;&#x308C;&#x3070;
&#x3044;&#x3051;&#x305D;&#x3046;&#x306A;&#x6C17;&#x304C;&#x3057;&#x307E;&#x3059;&#xFF0E;&#x3067;&#x3082;&#xFF0C;&#x3053;&#x3053;&#x307E;&#x3067;&#x6765;&#x3066;exception &#x306E;&#x6271;&#x3044;&#x304C;
&#x3067;&#x304D;&#x306A;&#x3044;&#x4E8B;&#x306B;&#x6C17;&#x4ED8;&#x3044;&#x3066;&#x840E;&#x3048;&#x305F;&#x3093;&#x3067;&#x3059;&#xFF0E;&#xFF0E;

&gt; &gt;&gt;   &#x60C5;&#x5831;&#x516C;&#x958B;&#x3055;&#x308C;&#x3066;&#x3044;&#x306A;&#x3044;&#x30BF;&#x30B0; (rinfo &#x3068;&#x304B;) &#x304C;&#x3042;&#x3063;&#x3066;&#xFF0C;
&gt; &gt;&gt;   &#x305D;&#x306E;&#x90E8;&#x5206;&#x306E;&#x30BD;&#x30FC;&#x30B9;&#x30B3;&#x30FC;&#x30C9;&#x3082;&#x306A;&#x3044;&#xFF0E;
&gt; 
&gt;   &#x3053;&#x306E;&#x8FBA;&#x308A;&#x306E;&#x60C5;&#x5831;&#x306F; DateBookDB &#x3068;&#x3044;&#x3046;&#x30AF;&#x30E9;&#x30B9;&#x3067;&#x64CD;&#x4F5C;&#x3059;&#x308B;&#x3088;&#x3046;&#x306A;&#x306E;&#x3067;&#x3059;&#x304C;&#x3001;&#x304C;
&gt; &#x3093;&#x3070;&#x3063;&#x3066; Ruby binding &#x3092;&#x4F5C;&#x308C;&#x3070;&#x306A;&#x3093;&#x3068;&#x304B;&#x306A;&#x3089;&#x306A;&#x3044;&#x304B;&#x306A;&#x3042;&#x3001;&#x306A;&#x3069;&#x3068;&#x8003;&#x3048;&#x3066;&#x3044;&#x307E;
&gt; &#x3059;&#x3002;

&#x30AA;&#x30FC;&#x30D7;&#x30F3;&#x30BD;&#x30FC;&#x30B9;&#x7248;&#x306E; DateBookDB &#x306B;&#x306F;&#xFF0C;rinfo &#x3068;&#x3044;&#x3046;&#x30D5;&#x30A3;&#x30FC;&#x30EB;&#x30C9;&#x304C;&#x5B58;&#x5728;
&#x3057;&#x306A;&#x3044;&#x3093;&#x3067;&#x3059;&#x3088;&#xFF0E;&#x306A;&#x306E;&#x3067;&#xFF0C;&#x3053;&#x306E;&#x65B9;&#x6CD5;&#x3067;&#x3082;&#x3042;&#x3093;&#x307E;&#x308A;&#x5B09;&#x3057;&#x304F;&#x306A;&#x3044;&#x6C17;&#x304C;&#x3057;&#x3066;&#x3044;&#x307E;&#x3059;&#xFF0E;

&#x3069;&#x3061;&#x3089;&#x304B;&#x3063;&#x3066;&#x3044;&#x3046;&#x3068;&#xFF0C;DateBookDB &#x3092; libmhc.a &#x3068;&#x304B;&#x306B;&#x307E;&#x308B;&#x3054;&#x3068;
&#x3059;&#x3052;&#x304B;&#x3048;&#x3066; GUI &#x90E8;&#x5206;&#x3060;&#x3051; datebook &#x304B;&#x3089;&#x8CB0;&#x3046;&#x3068;&#x3044;&#x3046;&#x306E;&#x304C;
&#x9762;&#x767D;&#x3044;&#x306E;&#x304B;&#x3082;&#x3057;&#x308C;&#x307E;&#x305B;&#x3093;&#xFF0E;

&gt;   Datebook &#x3092;&#x6368;&#x3066;&#x3066; KOrganizer Embedded &#x3092;&#x4F7F;&#x3046;&#x3068;&#x3044;&#x3046;&#x65B9;&#x6CD5;&#x3082;&#x3042;&#x308B;&#x3088;&#x3046;&#x3067;&#x3059;&#x3002;

KO/E &#x3063;&#x3066;&#xFF0C;&#x7E70;&#x308A;&#x8FD4;&#x3057;&#x306E;&#x4E88;&#x5B9A;&#x304C;&#x5165;&#x308C;&#x3089;&#x308C;&#x306A;&#x304B;&#x3063;&#x305F;&#x8A18;&#x61B6;&#x304C;&#x3042;&#x308B;&#x306E;&#x3067;&#x3059;&#x304C;&#xFF0C;
&#x65E2;&#x306B;&#x6614;&#x306E;&#x8A71;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B;&#xFF0E;
--
nom


#!/usr/local/bin/ruby

require 'mhc-kconv'
require 'mhc-date'
require 'mhc-schedule'

################################################################
##  ZDatebookDB class

class ZDatebookDB

  def initialize()
    @last_uid = -1 * Time .now .to_i
    @last_rid = 0
    @records  = []
  end

  def new_record()
    rec = ZDatebookRecord .new(self, new_uid(), new_rid())
    @records &lt;&lt; rec

    return rec
  end

  def new_uid()
    return @last_uid -= 1
  end

  def new_rid()
    return @last_rid += 1
  end

  def each_record()
    @records .each{|rec|
      yield(rec)
    }
  end

  def dump()
    ret  = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;'
    ret += '&lt;!DOCTYPE DATEBOOK &gt;&lt;DATEBOOK&gt;'
    ret += &quot;&lt;RIDMAX&gt;#{@last_rid}&lt;/RIDMAX&gt;&quot;
    ret += &quot;&lt;events&gt;\n&quot;

    @records .each{|rec|
      ret += rec .dump + &quot;\n&quot;
    }

    ret += &quot;&lt;/events&gt;\n&quot;
    ret += &quot;&lt;/DATEBOOK&gt;\n&quot;
  end
end

################################################################
##  ZDatebookRecord class

class ZDatebookRecord

  def initialize(zdb = nil, uid = nil, rid = nil)
    set_zdb(zdb)
    set_uid(uid)
    set_rid(rid)
    set_rinfo(1)  ## XXX
  end

  ################
  ## uid is not always unique.  In cases where rinfo=0|2 uid seems to
  ## be 0 or positive (mostly 0).  In the case that rinfo=1|3 it is
  ## always negative and seems to look like a date field.
  ## Maybe rinfo keeps some sync information...

  ## XXX: usually, you don't have to set these vars by hand.

  def set_uid(uid); 
    @uid = uid
    return self
  end

  def set_rid(rid)
    @rid = rid
    return self
  end

  def set_rinfo(rinfo)  ## myterious field... (inside of QtopiaDesktop?)
    @rinfo = rinfo
    return self
  end

  def set_zdb(db)
    @zdb = db
    return self
  end

  ################
  ## set common fields

  def set_description(string)
    @description = string
    return self
  end

  def set_location(string)
    @location = string
    return self
  end

  def set_note(string)
    @note = string
    return self
  end

  def set_categories(cat_list)
    @categories = cat_list  ## array of category string.
    return self
  end

  def set_time(s, e, allday)
    ## start and endtime are suposed to be Time.

    if @allday = allday
      @start   = Time .local(s .year, s .mon, s .mday)
      @endtime = Time .local(e .year, e .mon, e .mday, 23, 59, 0)
    else
      @start   = s
      @endtime = e
    end

    return self
  end

  def set_alarm(minute)
    @alarm = minute
    return self
  end

  ################
  ## set repeat fields

  def set_repeat_daily(enddt, freq)
    # rtype = &quot;Daily&quot;

    set_repeat(enddt, freq)
    @rtype = 'Daily'
    return self
  end

  def set_repeat_weekdays(enddt, freq, rweekdays)
    # rtype = &quot;Weekly&quot; rweekdays = &quot;127&quot;
    # 127 is bitfield. bit7 (MSB) = Sun, bit1 = Mon

    set_repeat(enddt, freq)
    @rtype = 'Weekly'
    @rweekdays = rweekdays
  end

  def set_repeat_monthlydate(enddt, freq)
    # rtype = &quot;MonthlyDate&quot; rposition = &quot;4&quot;
    # 4 is for 4th week.

    set_repeat(enddt, freq)
    @rtype = 'MonthlyDate'
    return self
  end

  def set_repeat_monthlyday(enddt, freq)
    # rtype = &quot;MonthlyDay&quot; rposition = &quot;4&quot;  -- 4th Tue every month

    set_repeat(enddt, freq)
    @rtype = 'MonthlyDay'
    return self
  end

  def set_repeat_yearly(enddt, freq)
    # rtype=&quot;Yearly&quot;

    @rtype = 'Yearly'
    set_repeat(enddt, freq)
    return self
  end

  ################
  ## predicates.

  def allday?()
    return true if @allday
    return false
  end
  
  def has_alarm?()
    return true if @alarm &amp;&amp; !allday?
    return false
  end

  def repeat?()
    return true if @rtype
    return false
  end

  def repeat_weekly?()
    return true if @rtype &amp;&amp; @rtype == 'Weekly'
    return false
  end

  def repeat_monthly?()
    return true if @rtype &amp;&amp; @rtype =~ /^Monthly/
    return false
  end

  ################
  # print/dump fields

  def dump
    return '&lt;event '      +
      fld_description()   +
      fld_location()      +
      fld_categories()    +
      fld_uid()           +
      fld_rid()           +
      fld_rinfo()         +
      fld_type()          +
      fld_alarm()         +

      fld_repeat()        +

      fld_start()         +
      fld_end()           +
      fld_note()          +
      ' /&gt;'
  end

  def fld_description()
    return make_field_string('description', @description)
  end

  def fld_location()
    return make_field_string('location', @location)
  end

  def fld_categories()
    return '' ## XXX
  end

  def fld_uid()
    return make_field_string('uid', @uid)
  end

  def fld_rid()
    return make_field_string('rid', @rid)
  end

  def fld_rinfo()
    return make_field_string('rinfo', @rinfo)
  end

  def fld_type()
    return make_field_string('type', 'AllDay') if allday?
    return ''
  end

  def fld_alarm()
    return '' if !has_alarm? || allday?
    return make_field_string('alarm', @alarm) + # in minute
           make_field_string('sound', 'loud')
  end

  def fld_repeat()
    return '' if !repeat?
    return make_field_string('rtype', @rtype) +
	   make_field_string('rweekdays', @rweekdays) +
	   make_field_string('rposition', @rposition) +
	   make_field_string('rfreq', @rfreq) +
	   make_field_string('rhasenddate', @enddt, true) +
	   make_field_string('enddt', @enddt) +
	   make_field_string('created', @created)
  end

  def fld_start()
    return make_field_string('start', @start)
    return ''
  end

  def fld_end()
    return make_field_string('end', @endtime)
    return ''
  end

  def fld_note()
    return make_field_string('note', @note)
    return ''
  end

  ################################################################
  private

  def set_repeat(enddt, freq)
    raise ('set time first') if !@start

    @enddt = Time .local(enddt .year, enddt .mon, enddt .mday)
    @freq  = freq
    @rposition = (@start .mday - 1) / 7 + 1

    return self
  end

  def make_field_string(name, val, val_is_bool = false)

    val = (val ? 1 : 0) if val_is_bool
    val = val .to_i     if val .is_a?(Time)
    val = val .to_s

    return '' if val == ''

    val = Kconv::toeuc(val)
    val = val .gsub('&amp;', '&amp;amp;')
    val = val .gsub('&lt;', '&amp;lt;')
    val = val .gsub('&gt;', '&amp;gt;')
    val = val .gsub('&quot;', '&amp;quot;')
    val = val .gsub(&quot;'&quot;, '&amp;apos;')

    return name + '=&quot;' + val + '&quot; '
  end
end

################################################################
## add methods to MhcScheduleItem.

class MhcScheduleItem

  def to_zaurus(zdb)
    ret     = []
    day_cp  = day .dup
    
    rec = zdb .new_record
    rec .set_description(subject)
    rec .set_location(location)
    # rec .set_note(description)
    rec .set_categories(category)
    rec .set_alarm(alarm / 60) if alarm

    ################

    if day &amp;&amp; day .length &gt; 0
      if time_b &amp;&amp; time_e
	rec .set_time(day[0] .to_t(time_b), day[0] .to_t(time_e), !time_b)
      else
	rec .set_time(day[0] .to_t, day[0] .to_t, !time_b)
      end
      return rec
    else
      return nil
    end

    ### for repeat
    beg, fin = occur_min, occur_max
    fin = nil if fin == DURATION_MAX

    ## First, treat X-SC-Day: field.
    while day_cp .length &gt; 0
      if day_cp .length &gt; 1 &amp;&amp; day_cp .length == day_cp .max - day_cp .min + 1
	## repeat in a series of days -- make up as a daily.
	ret &lt;&lt; mk_palm_skel .set_daily(day_cp .min, day_cp .max, 1)
	day_cp = []
      else
	ret &lt;&lt; mk_palm_skel .set_nonrepeat_date(day_cp .shift)
      end
    end

    ## Second, treat X-SC-Cond: field.
    if cond .length == cond_wek .length &amp;&amp; cond_wek .length &gt; 0
      ## weekly
      weeks = []
      for w in 0 .. 6
	weeks &lt;&lt; cond_wek .include?(MhcDate::W_LABEL[w]) ? true : false
      end
      ret &lt;&lt; mk_palm_skel .set_weekly(beg, fin, 1, weeks)

    elsif  cond_ord .length &gt;= 1  &amp;&amp;
	  !cond_ord .include?('5th') &amp;&amp;
	   cond_wek .length &gt;= 1  &amp;&amp;
	   cond_num .length == 0  &amp;&amp; 
	   cond_mon .length == 0
      ## monthly by day
      cond_ord .each{|ord_str|
	cond_wek .each{|wek_str|
	  ord = MhcDate::O_LABEL .index(ord_str)
	  wek = MhcDate::W_LABEL .index(wek_str)
	  sch2 = MhcScheduleItem .new .add_cond(ord_str) .add_cond(wek_str)
	  beg2 = beg .dup
	  while !sch2 .occur_on?(beg2) ## XXX: unnecessary?
	    beg2 .succ!
	  end
	  ret &lt;&lt; mk_palm_skel .set_monthly_by_day(beg2, fin, 1, ord, wek)
	}
      }
    elsif cond_num .length == 1 &amp;&amp;
	  cond_num .length == cond .length
      ## monthly by date
      while !occur_on?(beg) ## XXX: maybe necessary?
	beg .succ!
      end
      ret &lt;&lt; mk_palm_skel .set_monthly_by_date(beg, fin, 1)

    elsif cond_num .length == 1 &amp;&amp;
	  cond_mon .length == 1 &amp;&amp;
	  cond_wek .length == 0 &amp;&amp;
	  cond_ord .length == 0
      ## yearly by date
      y = beg .y
      m = MhcDate::M_LABEL .index(cond_mon[0]) + 1
      d = cond_num[0] .to_i
      date = MhcDate .new(y, m, d)
      if date &lt; beg
	date .y_succ! 
      end
      ## 2/29 &#x306F;&#x3069;&#x3046;&#x3059;&#x308B;?
      ret &lt;&lt; mk_palm_skel .set_yearly(date, fin, 1)

    elsif cond_ord .length == 1  &amp;&amp;
	  cond_ord[0] != '5th'   &amp;&amp;
	  cond_wek .length == 1  &amp;&amp;
	  cond_num .length == 0  &amp;&amp; 
	  cond_mon .length == 1
      ## yearly by day
      ord = MhcDate::O_LABEL .index(cond_ord[0])
      wek = MhcDate::W_LABEL .index(cond_wek[0])
      m   = MhcDate::M_LABEL .index(cond_mon[0]) + 1
      date = MhcDate .new(beg .y, m, 1)
      if date .m &lt; beg .m 
	date .y_succ!
      end
      while !occur_on?(date)
	date .succ!
      end
      ret &lt;&lt; mk_palm_skel .set_monthly_by_day(date, fin, 12, ord, wek)

    elsif cond .empty?
      ## do nothing
    else
      ## conversion failed.
      ret = []
    end

    if ret .empty?
      # STDERR .print &quot;#{occur_min .to_js} : #{subject} unsupported. ignored..\n&quot;
      return nil
    else
      return ret
    end
  end
end


################################################################
## main

$DEBUG = false

STDOUT .sync= true
STDERR .sync= true

def usage
  print '
usage: mhc2z [-r dir] [YYYYMMDD-yyyymmdd]

  mhc2z -- make datebook.xml

    -r dir : Set repository directory of the mhc.
             ~/Mail/schedule

    YYYYMMDD-yyyymmdd : set a start and end date of scanning mhc.
                        if omitted, scan from 3 months ago to
                        3 months after.
'
  exit 1
end

##
## option check.
##

$flag_from, $flag_to = nil, nil
$flag_dir = File .expand_path(&quot;~/Mail/schedule&quot;)

while ARGV .length &gt; 0
  case ARGV[0]
  when '-r'
    ARGV .shift
    $flag_dir = ARGV[0]
  when /^(\d{8})-(\d{8})$/
    $flag_from, $flag_to = MhcDate .new($1), MhcDate .new($2)
  else
    usage()
  end
  ARGV .shift
end

$flag_from = MhcDate .new .m_succ!(-3) if !$flag_from
$flag_to   = MhcDate .new .m_succ!(+3) if !$flag_to

##
## Open mhc &amp; convert to z.
##

converted, count = 0, 0

mdb = MhcScheduleDB .new($flag_dir)
zdb = ZDatebookDB   .new

mdb .each_sch($flag_from, $flag_to){|sch|
  count += 1

  if sch .to_zaurus(zdb)
    converted += 1
  else
    STDERR .print &quot;failed to convert.&quot;
    STDERR .print MhcKconv::todisp(&quot;  subject: #{sch .subject}\n&quot;)
    STDERR .print &quot;  first occured: #{sch .occur_min}\n&quot;
    STDERR .print &quot;  path: #{sch .path}\n&quot;
  end
}

print zdb .dump

STDERR .print &quot;#{converted}/#{count} successfully converted.\n&quot;

exit 0
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01669" href="msg01669.html">[mhc:01670] Re: MHC on Zaurus</a></strong>
<ul><li><em>From:</em> NOKUBI Takatsugu</li></ul></li>
<li><strong><a name="01670" href="msg01670.html">[mhc:01671] Re: MHC on Zaurus</a></strong>
<ul><li><em>From:</em> Jun Hirano</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01666" href="msg01666.html">[mhc:01667] MHC on Zaurus</a></strong>
<ul><li><em>From:</em> Yoshinari Nomura</li></ul></li>
<li><strong><a name="01667" href="msg01667.html">[mhc:01668] Re: MHC on Zaurus</a></strong>
<ul><li><em>From:</em> NOKUBI Takatsugu</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01667.html">[mhc:01668] Re: MHC on Zaurus</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01669.html">[mhc:01670] Re: MHC on Zaurus</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01667.html">[mhc:01668] Re: MHC on Zaurus</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01669.html">[mhc:01670] Re: MHC on Zaurus</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01668"><strong>Date</strong></a></li>
<li><a href="threads.html#01668"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
