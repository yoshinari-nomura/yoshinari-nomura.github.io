<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:00178] Re: =?iso&#45;2022&#45;jp?B?GyRCPi4lTSU/GyhC?= -->
<!--X-From-R13: Kbfuvanev @A[GDO <abzNpfpr.xlhfuh&#45;h.np.wc> -->
<!--X-Date: Mon, 27 Sep 1999 19:09:27 +0900 -->
<!--X-Message-Id: 19990927190924P.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 19990927190353H.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Reference: 19990922020047D.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Reference: 19990902184552X.nom@csce.kyushu&#45;u.ac.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:00178] Re: &#x5C0F;&#x30CD;&#x30BF;</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00176.html">Date Prev</a>][<a href="msg00178.html">Date Next</a>][<a href="msg00164.html">Thread Prev</a>][<a href="msg00165.html">Thread Next</a>][<a href="maillist.html#00177">Date Index</a>][<a href="threads.html#00177">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:00178] Re: &#x5C0F;&#x30CD;&#x30BF;</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:00178] Re: &#x5C0F;&#x30CD;&#x30BF;</li>
<li><em>From</em>: Yoshinari NOMURA &lt;<a href="mailto:nom@DOMAIN.HIDDEN">nom@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 27 Sep 1999 19:09:27 +0900</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:19990927190353H.nom@DOMAIN.HIDDEN">19990927190353H.nom@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Posted</em>: Mon, 27 Sep 1999 19:09:24 +0900</li>
<li><em>References</em>: &lt;<a href="mailto:19990927190353H.nom@DOMAIN.HIDDEN">19990927190353H.nom@xxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:19990922020047D.nom@DOMAIN.HIDDEN">19990922020047D.nom@xxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:19990902184552X.nom@DOMAIN.HIDDEN">19990902184552X.nom@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt; &#x5C0F;&#x30CD;&#x30BF;&#x3002;

&#x3082;&#x3046; 1&#x500B;&#x3002;&#x73FE;&#x5728;&#x306E; snap &#x306B;&#x5BFE;&#x5FDC;&#x3057;&#x305F; VAIO TV &#x3067;&#x3059;&#x3002;

On Thu, 2 Sep 1999 18:45:54 +0900,
	Yoshinari NOMURA &lt;nom@xxxxxxxxxxxxxxxxxxx&gt; said:

&gt; &#x4E00;&#x90E8;&#x306E;&#x4EBA;&#x306B;&#x306F;&#x6709;&#x540D;&#x306A; TV &#x30AC;&#x30A4;&#x30C9;&#x306E;&#x756A;&#x7D44;&#x8868;&#x3067;&#x3059;&#x304C;&#x3001;VAIO &#x306E;
&gt; &#x30CF;&#x30FC;&#x30C9;&#x30C7;&#x30A3;&#x30B9;&#x30AF;&#x9332;&#x753B;&#x4E88;&#x7D04;&#x5BFE;&#x5FDC;&#x30DA;&#x30FC;&#x30B8;&#x3063;&#x3066;&#x306E;&#x304C;&#x3042;&#x308B;&#x307F;&#x305F;&#x3044;&#x3067;&#x3059;&#x306D;&#x3002;
&gt; &#x4F8B;&#x3048;&#x3070;&#x3001;&#x798F;&#x5CA1;&#x7248;&#x3060;&#x3068;
&gt; 
&gt;     <a  rel="nofollow" href="http://210.152.244.34/fukuoka/table/090221.htm">http://210.152.244.34/fukuoka/table/090221.htm</a>
&gt; 
&gt; &#x3053;&#x3044;&#x3064;&#x306E;&#x756A;&#x7D44;&#x8868;&#x3067;&#x3001;&#x76EE;&#x5F53;&#x3066;&#x306E;&#x756A;&#x7D44;&#x306E; [&#x4E88;&#x7D04;] &#x3068;&#x3044;&#x3046;&#x6240;&#x3092;&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x3059;&#x308B;&#x3068;&#x3001;
&gt; ----------------------------------------------------------------
&gt; Content-type: application/x-tv-program-info; charset=shift_jis
&gt; version: 1
&gt; station: &#xFF32;&#xFF2B;&#xFF22;
&gt; year: 1999
&gt; month: 09
&gt; date: 02
&gt; start: 13:30
&gt; end: 14:00
&gt; program-title: &#x30AD;&#x30C3;&#x30BA;&#x30FB;&#x30A6;&#x30A9;&#x30FC;
&gt; 
&gt; &#x751F;&#x7A32;&#x6643;&#x5B50;&#x3000;&#x5DDD;&#x91CE;&#x592A;&#x90CE;&#x3000;&#x4E95;&#x4E0A;&#x771F;&#x592E;&#x307B;&#x304B;
&gt; ----------------------------------------------------------------
&gt; 
&gt; &#x307F;&#x305F;&#x3044;&#x306A;&#x306E;&#x3092;&#x9001;&#x3063;&#x3066;&#x304F;&#x308B;&#x307F;&#x305F;&#x3044;&#x3067;&#x3059;&#x3002;&#x3053;&#x3044;&#x3064;&#x3092;&#x30D1;&#x30FC;&#x30BA;&#x3057;&#x3066; mhc &#x306B;&#x5165;&#x308C;
&gt; &#x308B;&#x30B9;&#x30AF;&#x30EA;&#x30D7;&#x30C8;&#x3092;&#x66F8;&#x3044;&#x3066;&#x307F;&#x307E;&#x3057;&#x3087;&#x3046;&#x3002;&#x4F8B;&#x3048;&#x3070; /u/nom/bin/vaio-tv &#x3068;&#x3059;&#x308B;&#x3068;&#x3001;
&gt; Navigator &#x306E; [&#x7DE8;&#x96C6;] -&gt; [&#x8A2D;&#x5B9A;] -&gt; [Navigator] -&gt; [&#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;]
&gt; &#x304B;&#x3089;&#x3001;
&gt; 
&gt;   MIME&#x30BF;&#x30A4;&#x30D7;:        application/x-tv-program-info
&gt;   &#x30A2;&#x30D7;&#x30EA;&#x30B1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;:  /u/nom/bin/vaio-tv %s
&gt; 
&gt; &#x3068;&#x3057;&#x3066;&#x304A;&#x304F;&#x3068;&#x3044;&#x3044;&#x307F;&#x305F;&#x3044;&#x3067;&#x3059;&#x3002;&#x4EE5;&#x4E0B;&#x305D;&#x306E; vaio-tv &#x306E;&#x30B5;&#x30F3;&#x30D7;&#x30EB;
&gt; '/prj/mhc/ruby-lib' &#x306F; mhc-schedule.rb &#x306E;&#x3042;&#x308B;&#x5834;&#x6240;&#x3092;&#x6307;&#x5B9A;&#x3002;

################################################################
#!/usr/local/bin/ruby

$LOAD_PATH .unshift(ENV['HOME'] + '/prj/mhc/ruby-lib')
DEBUG = true

require 'kconv'
require 'mhc-schedule'

# if DEBUG
#   $tv_file = File .open(&quot;/tmp/vaio-tv&quot;, &quot;w&quot;)
#   def conv_print(str)
#     $tv_file .print Kconv::tojis(str)
#   end
# else
#   def conv_print(str)
#   end
# end

is_body, body = false, ''

while line = gets
  line .sub!(/\r?\n$/np, '')
  if (!is_body &amp;&amp; line == '')
    is_body = true
    next
  end

  if is_body
    body += line + &quot;\n&quot;
  else
    case line
    when /^station:(.*)/n
      station = $1 .strip
    when /^year:(.*)/n
      year = $1 .to_i
    when /^month:(.*)/n
      month = $1 .to_i
    when /^date:(.*)/n
      date = $1 .to_i
    when /^start:(.*)/n
      s = $1 .strip
    when /^end:(.*)/n
      e = $1 .strip
    when /^program-title:(.*)/n
      title = $1 .strip
    when /^program-subtitle:(.*)/n
      subtitle = $1 .strip
    end
  end
end

xhdr = &quot;X-SC-TV-Station: #{station}\n&quot; +&quot;X-SC-TV-Sub-Title: #{subtitle}\n&quot;
body = Kconv::tojis(xhdr) + &quot;\n&quot; + Kconv::tojis(body)

sch = MhcScheduleItem .new                     \
  .set_subject(title)                          \
  .add_category('Mytv')                        \
  .add_day(MhcDate .new(year, month, date))    \
  .set_time(MhcTime .new(s), MhcTime .new(e))  \
  .set_description(body)

db  = MhcScheduleDB .new .add_sch(sch)
exit 0
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00176" href="msg00176.html">[mhc:00177] &#x5C0F;&#x30CD;&#x30BF;</a></strong>
<ul><li><em>From:</em> Yoshinari NOMURA</li></ul></li>
<li><strong><a name="00173" href="msg00173.html">[mhc:00174] Re: mhc on UNiX MAGAZINE 1999/10</a></strong>
<ul><li><em>From:</em> Yoshinari NOMURA</li></ul></li>
<li><strong><a name="00164" href="msg00164.html">[mhc:00165] TV GUIDE</a></strong>
<ul><li><em>From:</em> Yoshinari NOMURA</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00176.html">[mhc:00177] &#x5C0F;&#x30CD;&#x30BF;</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00178.html">[mhc:00179] Re: font-lock for MHC</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00164.html">[mhc:00165] TV GUIDE</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00165.html">[mhc:00166] snap</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00177"><strong>Date</strong></a></li>
<li><a href="threads.html#00177"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
