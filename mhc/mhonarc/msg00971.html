<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:00972] Re: Link -->
<!--X-From-R13: Vvqrlhxv EVWDOW (=?vfb&#45;2022&#45;wc?P?UlDQD3WjLw0bAHCoYSW=?=) <fuvenvNdhvpxunpx.arg> -->
<!--X-Date: Thu, 10 Aug 2000 15:08:18 +0900 (JST) -->
<!--X-Message-Id: 20000810.150818.57991641.shirai@rdmg.mgcs.mei.co.jp -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: fzd7jhvjzu.wl@elmo.dq.isl.ntt.co.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:00972] Re: Link</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00970.html">Date Prev</a>][<a href="msg00972.html">Date Next</a>][<a href="msg00970.html">Thread Prev</a>][<a href="msg00972.html">Thread Next</a>][<a href="maillist.html#00971">Date Index</a>][<a href="threads.html#00971">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:00972] Re: Link</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:00972] Re: Link</li>
<li><em>From</em>: Hideyuki SHIRAI (&#x767D;&#x4E95;&#x79C0;&#x884C;) &lt;<a href="mailto:shirai@DOMAIN.HIDDEN">shirai@xxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 10 Aug 2000 15:08:18 +0900 (JST)</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:fzd7jhvjzu.wl@DOMAIN.HIDDEN">fzd7jhvjzu.wl@xxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Organization</em>: QuickHackers, Tokyo, JAPAN</li>
<li><em>References</em>: &lt;<a href="mailto:fzd7jhvjzu.wl@DOMAIN.HIDDEN">fzd7jhvjzu.wl@xxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>From: Yuuichi Teranishi &lt;teranisi@xxxxxxxxxxxxx&gt; &#x3055;&#x3093;&#x66F0;&#x304F;
Subject: [mhc:00971] Link
Message-ID: &lt;fzd7jhvjzu.wl@xxxxxxxxxxxxxxxxxxxxx&gt;
Date: Thu, 10 Aug 2000 13:05:25 +0900

&#x5BFA;&gt; &quot;Link&quot; &#x30AB;&#x30C6;&#x30B4;&#x30EA;&#x306E;&#x30A2;&#x30A4;&#x30B3;&#x30F3;&#x306F;&#xFF0C;&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x3059;&#x308B;&#x3068;&#x3001;
&#x5BFA;&gt; &#x30E1;&#x30FC;&#x30EB;&#x672C;&#x4F53;&#x306E;&#x30D8;&#x30C3;&#x30C0;&#x304B;&#x3089; X-URL &#x90E8;&#x5206;&#x3092;&#x53D6;&#x3063;&#x3066;&#x6765;&#x3066; browse-url &#x7D4C;&#x7531;&#x3067;
&#x5BFA;&gt; netscape &#x306B;&#x8868;&#x793A;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x3066;&#x307F;&#x307E;&#x3057;&#x305F; (current)&#xFF0E;

&#x5BFA;&gt; &#x3064;&#x3044;&#x3067;&#x306B;&#xFF0C;Emacs with bitmap-mule &#x3067;&#x306F;&#xFF0C;&#x30DC;&#x30BF;&#x30F3;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x308B;&#x30A2;&#x30A4;&#x30B3;&#x30F3;&#x306F;
&#x5BFA;&gt; &#x30CF;&#x30A4;&#x30E9;&#x30A4;&#x30C8;&#x3059;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x3068;&#x304D;&#x307E;&#x3057;&#x305F; 

&#x4FBF;&#x5229;&#x3067;&#x3059;&#x3002;

&#x4EE5;&#x4E0B;&#x3001;Todo &#x306B;&#x95A2;&#x3057;&#x3066;&#x6C17;&#x4ED8;&#x3044;&#x305F;&#x70B9;&#x3092; 2&#x70B9;&#x307B;&#x3069;&#x3002;

1.
X-SC-Day: !20000817 !20000818 !20000816
X-SC-Category: Todo Holiday
X-SC-Duration: 20000811-20000820

&#x306A; schedule &#x3092;&#x66F8;&#x304F;&#x3068; &quot;&#x5F8C;&#x4F55;&#x65E5;&quot; &#x3092;&#x8A08;&#x7B97;&#x3059;&#x308B;&#x3068;&#x304D;&#x306B;&#x30A8;&#x30E9;&#x30FC;&#x306B;&#x306A;&#x308A;&#x307E;&#x3059;&#x3002;

(defsubst mhc-schedule-todo-deadline (schedule)
  (and schedule
       (or (car (mhc-logic/day (mhc-schedule-condition schedule)))

&#x304C; '(11185) = !20000817 &#x3092;&#x8FD4;&#x3059;&#x305F;&#x3081;&#x3067;&#x3059;&#x3002;

&#x3053;&#x3053;&#x306F;&#x3001;&#x3053;&#x3093;&#x306A;&#x611F;&#x3058;&#x3067;&#x306F;&#x306A;&#x3044;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B;&#x3002;(&#x3061;&#x3087;&#x3063;&#x3068;&#x6C5A;&#x3044;&#x3051;&#x3069;)

(defsubst mhc-schedule-todo-deadline (schedule)
  (and schedule
       (or (let ((date (car (mhc-logic/day (mhc-schedule-condition schedule)))))
	     (if (numberp date) date))
	   (nth 1 (assq
		   'mhc-logic/condition-duration
		   (mhc-logic/and
		    (mhc-schedule-condition schedule))))
	   (cadr (assq 
		  'mhc-logic/condition-duration-end
		  (mhc-logic/and
		   (mhc-schedule-condition schedule)))))))

2&#x756A;&#x76EE;&#x3082; 'nth 2' &#x3060;&#x3068; duration &#x306E; end &#x5074;&#x3092;&#x8FD4;&#x3059;&#x3068;&#x601D;&#x3046;&#x306E;&#x3067; 'nth 1'
&#x306B;&#x3057;&#x307E;&#x3057;&#x305F;&#x304C;&#x3001;&#x4E09;&#x756A;&#x76EE;&#x306E; cadr &#x304C;&#x305D;&#x306E;&#x76EE;&#x7684;&#x306E;&#x3088;&#x3046;&#x306A;&#x6C17;&#x3082;&#x3059;&#x308B;&#x3057;&#x3001;&#x826F;&#x304F;&#x308F;
&#x304B;&#x3089;&#x306A;&#x3044;&#x306E;&#x3067;&#x3001;&#x3088;&#x308D;&#x3057;&#x304F;&#x304A;&#x9858;&#x3044;&#x3057;&#x307E;&#x3059;&#x3002;(_ _) 


2.
X-SC-Priority: &#x306A;&#x306E;&#x3067;&#x3059;&#x304C;&#x3001;Ruby &#x5074;&#x304C;&#x5BFE;&#x5FDC;&#x3057;&#x3066;&#x3044;&#x306A;&#x3044;&#x305F;&#x3081; mhc-sync
&#x306A;&#x3069;&#x3092;&#x3059;&#x308B;&#x3068;&#x6D88;&#x3048;&#x3066;&#x3057;&#x307E;&#x3044;&#x307E;&#x3059;&#x3002;&#x3068;&#x308A;&#x3042;&#x3048;&#x305A;&#x4ED8;&#x5C5E;&#x306E;&#x30D1;&#x30C3;&#x30C1;&#x3092;&#x66F8;&#x3044;&#x3066;&#x307F;&#x305F;
&#x306E;&#x3067;&#x3059;&#x304C;&#x3001;Ruby &#x306F;&#x8D85;&#x5F29;&#x7D1A;&#x306E;&#x7D20;&#x4EBA;&#x306E;&#x305F;&#x3081;&#x3001;&#x826F;&#x3044;&#x306E;&#x304B;&#x3069;&#x3046;&#x304B;&#x307E;&#x3063;&#x305F;&#x304F;&#x308F;&#x304B;
&#x308A;&#x307E;&#x305B;&#x3093;&#x3002;(&#x305D;&#x308C;&#x4EE5;&#x524D;&#x306B;&#x3001;Ruby &#x5074;&#x306E;&#x51E6;&#x7406;&#x3092;&#x308F;&#x304B;&#x3063;&#x3066;&#x3044;&#x306A;&#x3044;)

# &#x52D5;&#x4F5C;&#x78BA;&#x8A8D;&#x306F;&#x3057;&#x3066;&#x3044;&#x308B;&#x306E;&#x3067;&#x3059;&#x304C;&#x3002;&#x3002;&#x3002;

&#x3068;&#x3044;&#x3046;&#x308F;&#x3051;&#x3067;&#x3001;&#x3053;&#x3061;&#x3089;&#x3082;&#x3069;&#x306A;&#x305F;&#x304B;&#x898B;&#x3066;&#x304F;&#x3060;&#x3055;&#x3044;&#x307E;&#x305B;&#x3002;(_ _)

-- 
&#x767D;&#x4E95;&#x79C0;&#x884C;&#xFF20;&#x660E;&#x65E5;&#x304B;&#x3089;10&#x65E5;&#x9593;&#x307B;&#x3069;&#x65AD;&#x7D9A;&#x7684;&#x306B;&#x97F3;&#x4FE1;&#x4E0D;&#x901A;&#x306B;&#x306A;&#x308A;&#x307E;&#x3059; ^^;;;
</pre><pre>--- mhc-schedule.rb.orig	Fri Jul 28 13:42:57 2000
+++ mhc-schedule.rb	Thu Aug 10 11:30:34 2000
@@ -19,6 +19,7 @@
 ##
 ## subject
 ##      get X-SC-Subject: value or ''
+##
 ## set_subject(aString)
 ##	set X-SC-Subject:
 ## location
@@ -90,6 +91,9 @@
 ## 	set X-SC-Category:
 ##      A space separated string or an array of string is allowed as an arg.
 ##
+## priority
+##	get X-SC-Priority: value or ''
+##
 ## add_category(String)
 ## del_category(String)
 ## 	add/remove a category.
@@ -171,7 +175,7 @@
   WEK_REGEX = MhcDate::W_LABEL .join('|')
   ORD_REGEX = MhcDate::O_LABEL .join('|')
 
-  HDR_REGEX = '(Subject|Location|Day|Time|Category|Cond|Duration|Alarm|Record-Id)'
+  HDR_REGEX = '(Subject|Location|Day|Time|Category|Cond|Duration|Alarm|Record-Id|Priority)'
 
   ALM_UNITS = {'Minute' =&gt; 60, 'Hour' =&gt; 60 * 60, 'Day' =&gt; 60 * 60 * 24}
   ALM_LABEL = ALM_UNITS .keys
@@ -340,6 +344,10 @@
     return self
   end
 
+  def priority
+    return @priority
+  end
+
   ## cond
   def cond
     return @cond_mon + @cond_ord + @cond_wek + @cond_num
@@ -567,6 +575,7 @@
       &quot;X-SC-Day: #{day_as_string}\n&quot;           +
       &quot;X-SC-Time: #{time_as_string}\n&quot;         +
       &quot;X-SC-Category: #{category_as_string}\n&quot; +
+      &quot;X-SC-Priority: #{priority}\n&quot;           +
       &quot;X-SC-Cond: #{cond_as_string}\n&quot;         +
       &quot;X-SC-Duration: #{duration_as_string}\n&quot; +
       &quot;X-SC-Alarm: #{alarm_as_string}\n&quot;       +
@@ -851,6 +860,8 @@
     @duration_b, @duration_e                   = nil, nil
     @alarm, @rec_id                            = nil, nil
 
+    @priority				       = ''
+
     @modified                                  = false
     @non_xsc_header                            = ''
     return self
@@ -930,6 +941,9 @@
 
       when 'category:'
 	val .split .each{|c| @category &lt;&lt; c .capitalize}
+
+      when 'priority:'
+	@priority = val
 
       when 'cond:'
 	val .split .each{|d|
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00972" href="msg00972.html">[mhc:00973] Re: Link</a></strong>
<ul><li><em>From:</em> Yuuichi Teranishi</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00970" href="msg00970.html">[mhc:00971] Link</a></strong>
<ul><li><em>From:</em> Yuuichi Teranishi</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00970.html">[mhc:00971] Link</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00972.html">[mhc:00973] Re: Link</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00970.html">[mhc:00971] Link</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00972.html">[mhc:00973] Re: Link</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00971"><strong>Date</strong></a></li>
<li><a href="threads.html#00971"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
