<!-- MHonArc v2.6.16 -->
<!--X-Subject: [mhc:02181] Re: mhc&#45;goto&#45;date -->
<!--X-From-R13: YAWS Vvqrgnxn (=?vfb&#45;2022&#45;wc?P?UlDQAVS5BwTDFwCoYSW=?=) <uvqrNxbvr.bet> -->
<!--X-Date: Mon, 28 Nov 2005 20:19:55 +0900 (JST) -->
<!--X-Message-Id: 20051128.201955.254131553.hide@koie.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20051003231715W.nom@vintage.swlab.it.okayama&#45;u.ac.jp -->
<!--X-Reference: 20051004.062401.193685791.koie@sakura.suri.co.jp -->
<!--X-Reference: 20051007.152549.39151123.hide@koie.org -->
<!--X-Reference: 20051127232633K.nom@vintage.swlab.it.okayama&#45;u.ac.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[mhc:02181] Re: mhc-goto-date</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg02179.html">Date Prev</a>][<a href="msg02181.html">Date Next</a>][<a href="msg02178.html">Thread Prev</a>][<a href="msg02181.html">Thread Next</a>][<a href="maillist.html#02180">Date Index</a>][<a href="threads.html#02180">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[mhc:02181] Re: mhc-goto-date</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: [mhc:02181] Re: mhc-goto-date</li>
<li><em>From</em>: KOIE Hidetaka (&#x9BC9;&#x6C5F;&#x82F1;&#x9686;) &lt;<a href="mailto:hide@DOMAIN.HIDDEN">hide@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 28 Nov 2005 20:19:55 +0900 (JST)</li>
<li><em>Delivered-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20051127232633K.nom@DOMAIN.HIDDEN">20051127232633K.nom@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:mhc-ctl@quickhack.net?body=help">mailto:mhc-ctl@quickhack.net?body=help</a>&gt;</li>
<li><em>List-id</em>: mhc.quickhack.net</li>
<li><em>List-owner</em>: &lt;<a href="mailto:mhc-admin@quickhack.net">mailto:mhc-admin@quickhack.net</a>&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:mhc@quickhack.net">mailto:mhc@quickhack.net</a>&gt;</li>
<li><em>List-software</em>: fml [fml 4.0.3 release (20011202/4.0.3)]</li>
<li><em>List-unsubscribe</em>: &lt;<a href="mailto:mhc-ctl@quickhack.net?body=unsubscribe">mailto:mhc-ctl@quickhack.net?body=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:20051003231715W.nom@DOMAIN.HIDDEN">20051003231715W.nom@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20051004.062401.193685791.koie@DOMAIN.HIDDEN">20051004.062401.193685791.koie@xxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20051007.152549.39151123.hide@DOMAIN.HIDDEN">20051007.152549.39151123.hide@xxxxxxxx</a>&gt;	&lt;<a href="mailto:20051127232633K.nom@DOMAIN.HIDDEN">20051127232633K.nom@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:mhc@DOMAIN.HIDDEN">mhc@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&#x4E43;&#x6751;&#x3055;&#x3093;&#x3078;

  Message-Id: &lt;20051127232633K.nom@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;
  Date:       Sun, 27 Nov 2005 23:26:33 +0900
  From:       Yoshinari Nomura &lt;nom@xxxxxxxxxxxxx&gt;
  Subject:    [mhc:02179] Re: mhc-goto-date

  | mhc-goto-date &#x306F;&#xFF0C;&#x30AD;&#x30FC;&#x306B;&#x306F;&#x5272;&#x5F53;&#x3066;&#x306A;&#x3044;&#x3068;&#x3044;&#x3046;&#x8A71;&#x3060;&#x3063;&#x305F;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B;?

C-c.g(mhc-goto-month)&#x306E;&#x7F6E;&#x304D;&#x63DB;&#x3048;&#x3067;&#x3082;&#x3088;&#x3044;&#x306E;&#x3067;&#x306F;&#x3068;&#x3044;&#x3046;&#x8A71;&#x304C;&#x3042;&#x308A;&#x307E;&#x3057;&#x305F;&#x3002;
&#x7F6E;&#x304D;&#x63DB;&#x3048;&#x305F;&#x5834;&#x5408;&#x3001;
mhc-goto-month&#x3060;&#x3068; &#x5E74;&#x6708; &#x3060;&#x3051;&#x5165;&#x529B;&#x3059;&#x308C;&#x3070;&#x3088;&#x304B;&#x3063;&#x305F;&#x306E;&#x304C;
mhc-goto-date&#x3060;&#x3068; &#x5E74;&#x6708;&#x65E5; &#x3092;&#x5165;&#x529B;&#x3057;&#x306A;&#x3051;&#x308C;&#x3070;&#x306A;&#x3089;&#x306A;&#x304F;&#x306A;&#x308A;&#x307E;&#x3059;&#x3002;

&#x307E;&#x3060;&#x30AD;&#x30FC;&#x306F;&#x7A7A;&#x3044;&#x3066;&#x3044;&#x308B;&#x306E;&#x3067;C-c.j&#x3042;&#x305F;&#x308A;&#x306B;&#x5272;&#x308A;&#x5F53;&#x3066;&#x308B;&#x306E;&#x3067;&#x3069;&#x3046;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B;&#x3002;

  | current &#x306F;&#xFF0C;&#x534A;&#x7AEF;&#x306A;&#x72B6;&#x614B;&#x306B;&#x306A;&#x3063;&#x3066;&#x305D;&#x3046;&#x306A;&#x306E;&#x3067;&#xFF0C;cleanup &#x3057;&#x305F;&#x30B3;&#x30FC;&#x30C9;&#x3092;

mhc-goto-date&#x306E;&#x4EF6;&#x3067;&#x306F;&#x30EC;&#x30DD;&#x30B8;&#x30C8;&#x30EA;&#x3092;&#x3044;&#x3058;&#x3063;&#x3066;&#x3044;&#x306A;&#x3044;&#x3068;&#x304A;&#x3082;&#x3044;&#x307E;&#x3059;&#x3002;

  | patch &#x306E;&#x5F62;&#x3067;&#x3044;&#x305F;&#x3060;&#x3051;&#x306A;&#x3044;&#x3067;&#x3057;&#x3087;&#x3046;&#x304B;&#xFF0E;

mhc.el&#x306B;mhc-goto-date&#x3092;&#x5165;&#x308C;&#x308B;&#x30D1;&#x30C3;&#x30C1;&#x3092;&#x6DFB;&#x4ED8;&#x3057;&#x307E;&#x3059;&#x3002;

mhc-goto-month&#x3067;
&#x6708;&#x8868;&#x793A;&#x306B;&#x306A;&#x308B;&#x306E;&#x304C;&#x3088;&#x3044;&#x304B;
calendar&#x3092;&#x8868;&#x793A;&#x3059;&#x308B;&#x306E;&#x304C;&#x3088;&#x3044;&#x304B;
&#x308F;&#x304B;&#x3089;&#x306A;&#x304B;&#x3063;&#x305F;&#x306E;&#x3067;
&#x5909;&#x6570;mhc-goto-date-func&#x3067;&#x5909;&#x66F4;&#x3067;&#x304D;&#x308B;&#x3088;&#x3046;&#x306B;&#x3057;&#x3066;&#x307F;&#x307E;&#x3057;&#x305F;&#x3002;

&#x3064;&#x304B;&#x3063;&#x3066;&#x3044;&#x3066;&#x6C17;&#x306B;&#x306A;&#x308B;&#x3053;&#x3068;&#x304C;&#x3042;&#x308B;&#x306E;&#x3067;&#x3059;&#x304C;
&#x904E;&#x53BB;&#x306E;&#x65E5;&#x4ED8;&#x306B;&#x30B8;&#x30E3;&#x30F3;&#x30D7;&#x3057;&#x3088;&#x3046;&#x3068;&#x3057;&#x3066;&#x3082;
guess&#x6A5F;&#x80FD;&#x306F;&#x672A;&#x6765;&#x6307;&#x5411;&#x306A;&#x306E;&#x3067;guess&#x306E;&#x5E74;&#x304C;&#x671F;&#x5F85;&#x3057;&#x305F;&#x3068;&#x304A;&#x308A;&#x306B;&#x306A;&#x3089;&#x305A;
&#x30DF;&#x30CB;&#x30D0;&#x30C3;&#x30D5;&#x30A1;&#x3067;&#x624B;&#x76F4;&#x3057;&#x304C;&#x5FC5;&#x8981;&#x306B;&#x306A;&#x308A;&#x307E;&#x3059;&#x3002;

--
KOIE Hidetaka &lt;hide@xxxxxxxx&gt;



Index: mhc.el
===================================================================
RCS file: /cvsroot/mhc/emacs/mhc.el,v
retrieving revision 1.89
diff -u -F^(def -F^[A-Z_a-z][0-9A_Z_a-z]*( -r1.89 mhc.el
--- mhc.el	15 May 2005 12:04:55 -0000	1.89
+++ mhc.el	28 Nov 2005 10:54:58 -0000
@@ -80,6 +80,7 @@ (defvar mhc-mode-menu-spec
 	[&quot;Next month&quot;   mhc-goto-next-month t]
 	[&quot;Prev month&quot;   mhc-goto-prev-month t]
 	[&quot;Goto month&quot;   mhc-goto-month t]
+	[&quot;Goto date&quot;    mhc-goto-date t]
 	[&quot;Import&quot;       mhc-import t]
 	[&quot;Set category&quot; mhc-set-default-category t]
 	&quot;----&quot;
@@ -122,6 +123,7 @@ (defvar mhc-prefix-map nil &quot;Keymap for '
   (setq mhc-mode-map (make-sparse-keymap))
   (setq mhc-prefix-map (make-sparse-keymap))
   (define-key mhc-prefix-map &quot;g&quot; 'mhc-goto-month)
+  (define-key mhc-prefix-map &quot;j&quot; 'mhc-goto-date)
   (define-key mhc-prefix-map &quot;.&quot; 'mhc-goto-this-month)
   (define-key mhc-prefix-map &quot;n&quot; 'mhc-goto-next-month)
   (define-key mhc-prefix-map &quot;p&quot; 'mhc-goto-prev-month)
@@ -164,6 +166,7 @@ (defun mhc-mode (&amp;optional arg) &quot;\
 \\[mhc-goto-next-month]	Review the schedule of next month
 \\[mhc-goto-prev-month]	Review the schedule of previous month
 \\[mhc-goto-month]	Jump to your prefer month
+\\[mhc-goto-date]	Jump to your prefer date
 \\[mhc-rescan-month]	Rescan the buffer of the month
 \\[mhc-goto-today]	Move cursor to today (Only available reviewing this month)
 \\[mhc-import]	Register the reviewing mail to schdule
@@ -176,7 +179,7 @@ (defun mhc-mode (&amp;optional arg) &quot;\
 \\[mhc-calendar-toggle-insert-rectangle]	Toggle 3 months calendar
 \\[mhc-reset]	Reset MHC
 
-   '\\[universal-argument]' prefix is available on using '\\[mhc-rescan-month]', '\\[mhc-goto-this-month]', '\\[mhc-goto-month]'
+   '\\[universal-argument]' prefix is available on using '\\[mhc-rescan-month]', '\\[mhc-goto-this-month]', '\\[mhc-goto-month]', '\\[mhc-goto-date]'
   , it works to assign the category (see below).
 
    The prefix arg '\\[mhc-goto-next-month]', '\\[mhc-goto-prev-month]' is also available and you can indicate
@@ -186,7 +189,7 @@ (defun mhc-mode (&amp;optional arg) &quot;\
 
    X-SC-Category:
    Space-seperated Keywords. You can set default category to scan.
-   You can also indicate keywords by typing C-cs C-c. C-cg with C-u.
+   You can also indicate keywords by typing '\\[mhc-rescan-month]', '\\[mhc-goto-this-month]', '\\[mhc-goto-month]', '\\[mhc-goto-date]' with C-u.
 &quot;
   (interactive &quot;P&quot;)
   (make-local-variable 'mhc-mode)
@@ -371,6 +374,37 @@ (defun mhc-goto-month (&amp;optional date hi
 		  mhc-default-category-predicate-sexp
 		  hide-private))
 
+(defvar mhc-goto-date-func 'mhc-goto-date-calendar)
+                                        ; or mhc-goto-date-summary
+(defun mhc-goto-date (&amp;optional hide-private)
+  &quot;*Show schedules of specified date.
+If HIDE-PRIVATE, private schedules are suppressed.&quot;
+  (interactive
+   (list
+    (if mhc-default-hide-private-schedules
+	(not current-prefix-arg)
+      current-prefix-arg)))
+  (let* ((owin (get-buffer-window (current-buffer)))
+         (buf (mhc-summary-get-import-buffer))
+         (win (if buf (get-buffer-window buf) nil))
+         date)
+    (save-excursion
+      (when win (select-window win))
+      (setq date (car (mhc-input-day &quot;Date: &quot; (mhc-date-now) (mhc-guess-date))))
+      (select-window owin))
+    (funcall mhc-goto-date-func date hide-private)))
+(defun mhc-goto-date-calendar (date hide-private)
+  (mhc-calendar-goto-month date))
+(defun mhc-goto-date-summary (date hide-private)
+  ;; XXX mhc-calendar-scan&#x306E;&#x30D1;&#x30AF;&#x30EA;&#x3067;&#x3059;
+  (mhc-goto-month date hide-private)
+  (goto-char (point-min))
+  (if (mhc-summary-search-date date)
+      (progn
+        (beginning-of-line)
+        (if (not (pos-visible-in-window-p (point)))
+            (recenter)))))
+
 (defun mhc-goto-this-month (&amp;optional hide-private)
   &quot;*Show schedules of this month.
 If HIDE-PRIVATE, private schedules are suppressed.&quot;
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="02181" href="msg02181.html">[mhc:02182] Re: generate a howm file by today</a></strong>
<ul><li><em>From:</em> Yoshinari Nomura</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="02160" href="msg02160.html">[mhc:02161] Re: mhc-goto-date</a></strong>
<ul><li><em>From:</em> Yoshinari Nomura</li></ul></li>
<li><strong><a name="02163" href="msg02163.html">[mhc:02164] Re: mhc-goto-date</a></strong>
<ul><li><em>From:</em> &#x9BC9;&#x6C5F;&#x82F1;&#x9686;</li></ul></li>
<li><strong><a name="02171" href="msg02171.html">[mhc:02172] Re: mhc-goto-date</a></strong>
<ul><li><em>From:</em> &#x9BC9;&#x6C5F;&#x82F1;&#x9686;</li></ul></li>
<li><strong><a name="02178" href="msg02178.html">[mhc:02179] Re: mhc-goto-date</a></strong>
<ul><li><em>From:</em> Yoshinari Nomura</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg02179.html">[mhc:02180] Re: generate a howm file by today</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg02181.html">[mhc:02182] Re: generate a howm file by today</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg02178.html">[mhc:02179] Re: mhc-goto-date</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg02181.html">[mhc:02182] Re: generate a howm file by today</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#02180"><strong>Date</strong></a></li>
<li><a href="threads.html#02180"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
